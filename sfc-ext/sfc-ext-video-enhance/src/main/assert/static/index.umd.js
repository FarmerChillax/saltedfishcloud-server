(function(t,h){typeof exports=="object"&&typeof module!="undefined"?h(require("vue")):typeof define=="function"&&define.amd?define(["vue"],h):(t=typeof globalThis!="undefined"?globalThis:t||self,h(t.Vue))})(this,function(t){"use strict";var mn=Object.defineProperty,pn=Object.defineProperties;var gn=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var tt=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable;var et=(t,h,v)=>h in t?mn(t,h,{enumerable:!0,configurable:!0,writable:!0,value:v}):t[h]=v,g=(t,h)=>{for(var v in h||(h={}))tt.call(h,v)&&et(t,v,h[v]);if(Q)for(var v of Q(h))nt.call(h,v)&&et(t,v,h[v]);return t},x=(t,h)=>pn(t,gn(h));var ge=(t,h)=>{var v={};for(var k in t)tt.call(t,k)&&h.indexOf(k)<0&&(v[k]=t[k]);if(t!=null&&Q)for(var k of Q(t))h.indexOf(k)<0&&nt.call(t,k)&&(v[k]=t[k]);return v};function h(e,n,l){if(l&&(n={_isVue:!0,$parent:l,$options:n}),n){if(n.$_alreadyWarned=n.$_alreadyWarned||[],n.$_alreadyWarned.includes(e))return;n.$_alreadyWarned.push(e)}return`[Vuetify] ${e}`+(n?lt(n):"")}function v(e,n,l){const o=h(e,n,l);o!=null&&console.warn(o)}const k=/(?:^|[-_])(\w)/g,ot=e=>e.replace(k,n=>n.toUpperCase()).replace(/[-_]/g,"");function Z(e,n){if(e.$root===e)return"<Root>";const l=typeof e=="function"&&e.cid!=null?e.options:e._isVue?e.$options||e.constructor.options:e||{};let o=l.name||l._componentTag;const r=l.__file;if(!o&&r){const a=r.match(/([^/\\]+)\.vue$/);o=a==null?void 0:a[1]}return(o?`<${ot(o)}>`:"<Anonymous>")+(r&&n!==!1?` at ${r}`:"")}function lt(e){if(e._isVue&&e.$parent){const n=[];let l=0;for(;e;){if(n.length>0){const o=n[n.length-1];if(o.constructor===e.constructor){l++,e=e.$parent;continue}else l>0&&(n[n.length-1]=[o,l],l=0)}n.push(e),e=e.$parent}return`

found in

`+n.map((o,r)=>`${r===0?"---> ":" ".repeat(5+r*2)}${Array.isArray(o)?`${Z(o[0])}... (${o[1]} recursive calls)`:Z(o)}`).join(`
`)}else return`

(found in ${Z(e)})`}function ye(e,n){if(e===n)return!0;if(e instanceof Date&&n instanceof Date&&e.getTime()!==n.getTime()||e!==Object(e)||n!==Object(n))return!1;const l=Object.keys(e);return l.length!==Object.keys(n).length?!1:l.every(o=>ye(e[o],n[o]))}function F(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${n}`:void 0}function J(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}const he=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function ee(e,n){const l=Object.create(null),o=Object.create(null);for(const r in e)n.some(a=>a instanceof RegExp?a.test(r):a===r)?l[r]=e[r]:o[r]=e[r];return[l,o]}function _e(e){return ee(e,["class","style","id",/^data-/])}function A(e){return e==null?[]:Array.isArray(e)?e:[e]}function te(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;const o={};for(const r in e)o[r]=e[r];for(const r in n){const a=e[r],i=n[r];if(J(a)&&J(i)){o[r]=te(a,i,l);continue}if(Array.isArray(a)&&Array.isArray(i)&&l){o[r]=l(a,i);continue}o[r]=i}return o}function Ve(e){return e.map(n=>n.type===t.Fragment?Ve(n.children):n).flat()}function ne(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase()}function be(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}const ve=Symbol.for("vuetify:defaults");function we(){const e=t.inject(ve);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function rt(e,n){const l=we(),o=t.ref(e),r=t.computed(()=>{const a=t.unref(n==null?void 0:n.scoped),i=t.unref(n==null?void 0:n.reset),s=t.unref(n==null?void 0:n.root);let u=te(o.value,{prev:l.value});if(a)return u;if(i||s){const d=Number(i||1/0);for(let m=0;m<=d&&u.prev;m++)u=u.prev;return u}return te(u.prev,u)});return t.provide(ve,r),r}function at(e,n){var l,o;return((l=e.props)==null?void 0:l.hasOwnProperty(n))||((o=e.props)==null?void 0:o.hasOwnProperty(ne(n)))}const E=function(n){var l;if(n._setup=(l=n._setup)!=null?l:n.setup,!n.name)return v("The component is missing an explicit name, unable to generate default prop value"),n;if(n._setup){var o;n.props=(o=n.props)!=null?o:{},n.props._as=String,n.setup=function(a,i){const s=t.getCurrentInstance(),u=we(),d=t.shallowRef(),m=t.shallowReactive(g({},t.toRaw(a)));t.watchEffect(()=>{var f;const b=u.value.global,w=u.value[(f=a._as)!=null?f:n.name];if(w){const _=Object.entries(w).filter(y=>{let[I]=y;return I.startsWith("V")});_.length&&(d.value=Object.fromEntries(_))}for(const _ of Object.keys(a)){let y;if(at(s.vnode,_))y=a[_];else{var S,N;y=(S=(N=w==null?void 0:w[_])!=null?N:b==null?void 0:b[_])!=null?S:a[_]}m[_]!==y&&(m[_]=y)}});const p=n._setup(m,i);let c;return t.watch(d,(f,b)=>{!f&&c?c.stop():f&&!b&&(c=t.effectScope(),c.run(()=>{rt(f)}))},{immediate:!0}),p}}return n};function Ee(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n=>(e?E:t.defineComponent)(n)}function R(e,n){const l=t.getCurrentInstance();if(!l)throw new Error(`[Vuetify] ${e} ${n||"must be called from inside a setup function"}`);return l}function oe(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";return ne((e=R(n).type)==null?void 0:e.name)}let Ce=0,H=new WeakMap;function T(){const e=R("getUid");if(H.has(e))return H.get(e);{const n=Ce++;return H.set(e,n),n}}T.reset=()=>{Ce=0,H=new WeakMap};const Se=typeof window!="undefined"&&CSS.supports("selector(:focus-visible)");function B(e,n){return l=>Object.keys(e).reduce((o,r)=>{const i=typeof e[r]=="object"&&e[r]!=null&&!Array.isArray(e[r])?e[r]:{type:e[r]};return l&&r in l?o[r]=x(g({},i),{default:l[r]}):o[r]=i,n&&(o[r].source=n),o},{})}function O(e){const n=R("useRender");n.render=e}const $e=Symbol.for("vuetify:theme"),W=B({theme:String},"theme");function Ne(e){R("provideTheme");const n=t.inject($e,null);if(!n)throw new Error("Could not find Vuetify theme injection");const l=t.computed(()=>{var a;return(a=e.theme)!=null?a:n==null?void 0:n.name.value}),o=t.computed(()=>n.isDisabled?void 0:`v-theme--${l.value}`),r=x(g({},n),{name:l,themeClasses:o});return t.provide($e,r),r}function V(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top center 0",l=arguments.length>2?arguments[2]:void 0;return E({name:e,props:{group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:{type:String,default:l},origin:{type:String,default:n}},setup(o,r){let{slots:a}=r;return()=>{const i=o.group?t.TransitionGroup:t.Transition;return t.h(i,{name:e,mode:o.mode,onBeforeEnter(s){s.style.transformOrigin=o.origin},onLeave(s){if(o.leaveAbsolute){const{offsetTop:u,offsetLeft:d,offsetWidth:m,offsetHeight:p}=s;s._transitionInitialStyles={position:s.style.position,top:s.style.top,left:s.style.left,width:s.style.width,height:s.style.height},s.style.position="absolute",s.style.top=`${u}px`,s.style.left=`${d}px`,s.style.width=`${m}px`,s.style.height=`${p}px`}o.hideOnLeave&&s.style.setProperty("display","none","important")},onAfterLeave(s){if(o.leaveAbsolute&&s!=null&&s._transitionInitialStyles){const{position:u,top:d,left:m,width:p,height:c}=s._transitionInitialStyles;delete s._transitionInitialStyles,s.style.position=u||"",s.style.top=d||"",s.style.left=m||"",s.style.width=p||"",s.style.height=c||""}}},a.default)}}})}function ke(e,n){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return E({name:e,props:{mode:{type:String,default:l}},setup(o,r){let{slots:a}=r;return()=>t.h(t.Transition,g({name:e},n),a.default)}})}function Ie(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const l=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",o=t.camelize(`offset-${l}`);return{onBeforeEnter(i){i._parent=i.parentNode,i._initialStyle={transition:i.style.transition,overflow:i.style.overflow,[l]:i.style[l]}},onEnter(i){const s=i._initialStyle;i.style.setProperty("transition","none","important"),i.style.overflow="hidden";const u=`${i[o]}px`;i.style[l]="0",i.offsetHeight,i.style.transition=s.transition,e&&i._parent&&i._parent.classList.add(e),requestAnimationFrame(()=>{i.style[l]=u})},onAfterEnter:a,onEnterCancelled:a,onLeave(i){i._initialStyle={transition:"",overflow:i.style.overflow,[l]:i.style[l]},i.style.overflow="hidden",i.style[l]=`${i[o]}px`,i.offsetHeight,requestAnimationFrame(()=>i.style[l]="0")},onAfterLeave:r,onLeaveCancelled:r};function r(i){e&&i._parent&&i._parent.classList.remove(e),a(i)}function a(i){const s=i._initialStyle[l];i.style.overflow=i._initialStyle.overflow,s!=null&&(i.style[l]=s),delete i._initialStyle}}V("carousel-transition"),V("carousel-reverse-transition"),V("tab-transition"),V("tab-reverse-transition"),V("menu-transition"),V("fab-transition","center center","out-in"),V("dialog-bottom-transition"),V("dialog-top-transition"),V("fade-transition"),V("scale-transition"),V("scroll-x-transition"),V("scroll-x-reverse-transition"),V("scroll-y-transition"),V("scroll-y-reverse-transition"),V("slide-x-transition"),V("slide-x-reverse-transition");const it=V("slide-y-transition");V("slide-y-reverse-transition"),ke("expand-transition",Ie()),ke("expand-x-transition",Ie("",!0));const st=B({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),ut=(e,n)=>{var l;let{slots:o}=n;const u=e,{transition:r}=u,a=ge(u,["transition"]);if(!r||typeof r=="boolean")return(l=o.default)==null?void 0:l.call(o);const d=typeof r=="object"?r:{},{component:i=t.Transition}=d,s=ge(d,["component"]);return t.h(i,t.mergeProps(typeof r=="string"?{name:r}:s,a),o)},xe=B({tag:{type:String,default:"div"}},"tag");function ct(e){const n=t.computed(()=>be(e.value.background)),l=t.computed(()=>be(e.value.text)),o=t.computed(()=>{const a=[];return e.value.background&&!n.value&&a.push(`bg-${e.value.background}`),e.value.text&&!l.value&&a.push(`text-${e.value.text}`),a}),r=t.computed(()=>{const a={};return e.value.background&&n.value&&(a.backgroundColor=e.value.background),e.value.text&&l.value&&(a.color=e.value.text,a.caretColor=e.value.text),a});return{colorClasses:o,colorStyles:r}}function le(e,n){const l=t.computed(()=>({text:t.isRef(e)?e.value:n?e[n]:null})),{colorClasses:o,colorStyles:r}=ct(l);return{textColorClasses:o,textColorStyles:r}}function re(e,n,l){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:u=>u,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:u=>u;const a=R("useProxiedModel"),i=t.computed(()=>{var u,d;return!!(typeof e[n]!="undefined"&&(a!=null&&(u=a.vnode.props)!=null&&u.hasOwnProperty(n)||a!=null&&(d=a.vnode.props)!=null&&d.hasOwnProperty(ne(n))))}),s=t.ref(o(e[n]));return t.computed({get(){return i.value?o(e[n]):s.value},set(u){(i.value?o(e[n]):s.value)!==u&&(s.value=u,a==null||a.emit(`update:${n}`,r(u)))}})}const dt=[null,"default","comfortable","compact"],ae=B({density:{type:String,default:"default",validator:e=>dt.includes(e)}},"density");function ie(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oe();return{densityClasses:t.computed(()=>`${n}--density-${e.density}`)}}var hn="";const Be=["x-small","small","default","large","x-large"],ft=B({size:{type:[String,Number],default:"default"}},"size");function mt(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oe();const l=t.computed(()=>Be.includes(e.size)?`${n}--size-${e.size}`:null),o=t.computed(()=>!Be.includes(e.size)&&e.size?{width:F(e.size),height:F(e.size)}:null);return{sizeClasses:l,sizeStyles:o}}const $=[String,Function,Object],pt=Symbol.for("vuetify:icons"),q=B({icon:{type:$,required:!0},tag:{type:String,required:!0}},"icon"),gt=E({name:"VComponentIcon",props:q(),setup(e){return()=>t.createVNode(e.tag,null,{default:()=>[t.createVNode(e.icon,null,null)]})}});E({name:"VSvgIcon",inheritAttrs:!1,props:q(),setup(e,n){let{attrs:l}=n;return()=>t.createVNode(e.tag,t.mergeProps(l,{style:null}),{default:()=>[t.createVNode("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[t.createVNode("path",{d:e.icon},null)])]})}}),E({name:"VLigatureIcon",props:q(),setup(e){return()=>t.createVNode(e.tag,null,{default:()=>[e.icon]})}}),E({name:"VClassIcon",props:q(),setup(e){return()=>t.createVNode(e.tag,{class:e.icon},null)}});const yt=e=>{const n=t.inject(pt);if(!n)throw new Error("Missing Vuetify Icons provide!");return{iconData:t.computed(()=>{const o=t.isRef(e)?e.value:e.icon;if(!o)throw new Error("Icon value is undefined or null");let r=o;if(typeof o=="string"&&o.includes("$")){var a;r=(a=n.aliases)==null?void 0:a[o.slice(o.indexOf("$")+1)]}if(!r)throw new Error(`Could not find aliased icon "${o}"`);if(typeof r!="string")return{component:gt,icon:r};const i=Object.keys(n.sets).find(d=>typeof r=="string"&&r.startsWith(`${d}:`)),s=i?r.slice(i.length+1):r;return{component:n.sets[i!=null?i:n.defaultSet].component,icon:s}})}},ht=B(g(g(g({color:String,start:Boolean,end:Boolean,icon:$},ft()),xe({tag:"i"})),W()),"v-icon"),se=E({name:"VIcon",props:ht(),setup(e,n){let{attrs:l,slots:o}=n,r;o.default&&(r=t.computed(()=>{var m,p;const c=(m=o.default)==null?void 0:m.call(o);if(!!c)return(p=Ve(c).filter(f=>f.children&&typeof f.children=="string")[0])==null?void 0:p.children}));const{themeClasses:a}=Ne(e),{iconData:i}=yt(r||e),{sizeClasses:s}=mt(e),{textColorClasses:u,textColorStyles:d}=le(t.toRef(e,"color"));return()=>t.createVNode(i.value.component,{tag:e.tag,icon:i.value.icon,class:["v-icon","notranslate",s.value,u.value,a.value,{"v-icon--clickable":!!l.onClick,"v-icon--start":e.start,"v-icon--end":e.end}],style:[s.value?void 0:{fontSize:F(e.size),width:F(e.size),height:F(e.size)},d.value],"aria-hidden":"true"},null)}});var _n="";const ue=Symbol("rippleStop"),_t=80;function De(e,n){e.style.transform=n,e.style.webkitTransform=n}function ce(e,n){e.style.opacity=`calc(${n} * var(--v-theme-overlay-multiplier))`}function de(e){return e.constructor.name==="TouchEvent"}function Fe(e){return e.constructor.name==="KeyboardEvent"}const Vt=function(e,n){var l;let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,a=0;if(!Fe(e)){const c=n.getBoundingClientRect(),f=de(e)?e.touches[e.touches.length-1]:e;r=f.clientX-c.left,a=f.clientY-c.top}let i=0,s=.3;(l=n._ripple)!=null&&l.circle?(s=.15,i=n.clientWidth/2,i=o.center?i:i+Math.sqrt((r-i)**2+(a-i)**2)/4):i=Math.sqrt(n.clientWidth**2+n.clientHeight**2)/2;const u=`${(n.clientWidth-i*2)/2}px`,d=`${(n.clientHeight-i*2)/2}px`,m=o.center?u:`${r-i}px`,p=o.center?d:`${a-i}px`;return{radius:i,scale:s,x:m,y:p,centerX:u,centerY:d}},G={show(e,n){var l;let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(n!=null&&(l=n._ripple)!=null&&l.enabled))return;const r=document.createElement("span"),a=document.createElement("span");r.appendChild(a),r.className="v-ripple__container",o.class&&(r.className+=` ${o.class}`);const{radius:i,scale:s,x:u,y:d,centerX:m,centerY:p}=Vt(e,n,o),c=`${i*2}px`;a.className="v-ripple__animation",a.style.width=c,a.style.height=c,n.appendChild(r);const f=window.getComputedStyle(n);f&&f.position==="static"&&(n.style.position="relative",n.dataset.previousPosition="static"),a.classList.add("v-ripple__animation--enter"),a.classList.add("v-ripple__animation--visible"),De(a,`translate(${u}, ${d}) scale3d(${s},${s},${s})`),ce(a,0),a.dataset.activated=String(performance.now()),setTimeout(()=>{a.classList.remove("v-ripple__animation--enter"),a.classList.add("v-ripple__animation--in"),De(a,`translate(${m}, ${p}) scale3d(1,1,1)`),ce(a,.08)},0)},hide(e){var n;if(!(e!=null&&(n=e._ripple)!=null&&n.enabled))return;const l=e.getElementsByClassName("v-ripple__animation");if(l.length===0)return;const o=l[l.length-1];if(o.dataset.isHiding)return;o.dataset.isHiding="true";const r=performance.now()-Number(o.dataset.activated),a=Math.max(250-r,0);setTimeout(()=>{o.classList.remove("v-ripple__animation--in"),o.classList.add("v-ripple__animation--out"),ce(o,0),setTimeout(()=>{e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),o.parentNode&&e.removeChild(o.parentNode)},300)},a)}};function Ae(e){return typeof e=="undefined"||!!e}function M(e){const n={},l=e.currentTarget;if(!(!(l!=null&&l._ripple)||l._ripple.touched||e[ue])){if(e[ue]=!0,de(e))l._ripple.touched=!0,l._ripple.isTouch=!0;else if(l._ripple.isTouch)return;if(n.center=l._ripple.centered||Fe(e),l._ripple.class&&(n.class=l._ripple.class),de(e)){if(l._ripple.showTimerCommit)return;l._ripple.showTimerCommit=()=>{G.show(e,l,n)},l._ripple.showTimer=window.setTimeout(()=>{var o;l!=null&&(o=l._ripple)!=null&&o.showTimerCommit&&(l._ripple.showTimerCommit(),l._ripple.showTimerCommit=null)},_t)}else G.show(e,l,n)}}function Te(e){e[ue]=!0}function C(e){const n=e.currentTarget;if(!(!n||!n._ripple)){if(window.clearTimeout(n._ripple.showTimer),e.type==="touchend"&&n._ripple.showTimerCommit){n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null,n._ripple.showTimer=window.setTimeout(()=>{C(e)});return}window.setTimeout(()=>{n._ripple&&(n._ripple.touched=!1)}),G.hide(n)}}function Pe(e){const n=e.currentTarget;!n||!n._ripple||(n._ripple.showTimerCommit&&(n._ripple.showTimerCommit=null),window.clearTimeout(n._ripple.showTimer))}let j=!1;function Le(e){!j&&(e.keyCode===he.enter||e.keyCode===he.space)&&(j=!0,M(e))}function Re(e){j=!1,C(e)}function Oe(e){j&&(j=!1,C(e))}function Me(e,n,l){var o;const{value:r,modifiers:a}=n,i=Ae(r);if(i||G.hide(e),e._ripple=(o=e._ripple)!=null?o:{},e._ripple.enabled=i,e._ripple.centered=a.center,e._ripple.circle=a.circle,J(r)&&r.class&&(e._ripple.class=r.class),i&&!l){if(a.stop){e.addEventListener("touchstart",Te,{passive:!0}),e.addEventListener("mousedown",Te);return}e.addEventListener("touchstart",M,{passive:!0}),e.addEventListener("touchend",C,{passive:!0}),e.addEventListener("touchmove",Pe,{passive:!0}),e.addEventListener("touchcancel",C),e.addEventListener("mousedown",M),e.addEventListener("mouseup",C),e.addEventListener("mouseleave",C),e.addEventListener("keydown",Le),e.addEventListener("keyup",Re),e.addEventListener("blur",Oe),e.addEventListener("dragstart",C,{passive:!0})}else!i&&l&&je(e)}function je(e){e.removeEventListener("mousedown",M),e.removeEventListener("touchstart",M),e.removeEventListener("touchend",C),e.removeEventListener("touchmove",Pe),e.removeEventListener("touchcancel",C),e.removeEventListener("mouseup",C),e.removeEventListener("mouseleave",C),e.removeEventListener("keydown",Le),e.removeEventListener("keyup",Re),e.removeEventListener("dragstart",C),e.removeEventListener("blur",Oe)}function bt(e,n){Me(e,n,!1)}function vt(e){delete e._ripple,je(e)}function wt(e,n){if(n.value===n.oldValue)return;const l=Ae(n.oldValue);Me(e,n,l)}const Et={mounted:bt,unmounted:vt,updated:wt};var Vn="",bn="";const Ct=E({name:"VMessages",props:g({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]}},st({transition:{component:it,leaveAbsolute:!0,group:!0}})),setup(e,n){let{slots:l}=n;const o=t.computed(()=>A(e.messages)),{textColorClasses:r,textColorStyles:a}=le(t.computed(()=>e.color));return()=>t.createVNode(ut,{transition:e.transition,tag:"div",class:["v-messages",r.value],style:a.value},{default:()=>[e.active&&o.value.map((i,s)=>t.createVNode("div",{class:"v-messages__message",key:`${s}-${o.value}`},[l.message?l.message({message:i}):i]))]})}}),St=Symbol.for("vuetify:form");function $t(){return t.inject(St,null)}const Nt=B({disabled:Boolean,error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,readonly:Boolean,rules:{type:Array,default:()=>[]},modelValue:null,validationValue:null});function kt(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oe(),l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T();const o=re(e,"modelValue"),r=t.computed(()=>{var y;return(y=e.validationValue)!=null?y:o.value}),a=$t(),i=t.ref([]),s=t.ref(!0),u=t.computed(()=>!!(A(o.value===""?null:o.value).length||A(r.value===""?null:r.value).length)),d=t.computed(()=>!!(e.disabled||a!=null&&a.isDisabled.value)),m=t.computed(()=>!!(e.readonly||a!=null&&a.isReadonly.value)),p=t.computed(()=>e.errorMessages.length?A(e.errorMessages):i.value),c=t.computed(()=>e.rules.length?e.error||p.value.length?!1:s.value?null:!0:!0),f=t.ref(!1),b=t.computed(()=>({[`${n}--error`]:c.value===!1,[`${n}--dirty`]:u.value,[`${n}--disabled`]:d.value,[`${n}--readonly`]:m.value})),w=t.computed(()=>{var y;return(y=e.name)!=null?y:t.unref(l)});t.onBeforeMount(()=>{a==null||a.register(w.value,_,S,N,c)}),t.onBeforeUnmount(()=>{a==null||a.unregister(w.value)}),t.watch(r,()=>{r.value!=null&&_()});function S(){N(),o.value=null}function N(){s.value=!0,i.value=[]}async function _(){const y=[];f.value=!0;for(const I of e.rules){if(y.length>=(e.maxErrors||1))break;const D=await(typeof I=="function"?I:()=>I)(r.value);if(D!==!0){if(typeof D!="string"){console.warn(`${D} is not a valid value. Rule functions must return boolean true or a string.`);continue}y.push(D)}}return i.value=y,f.value=!1,s.value=!1,i.value}return{errorMessages:p,isDirty:u,isDisabled:d,isReadonly:m,isPristine:s,isValid:c,isValidating:f,reset:S,resetValidation:N,validate:_,validationClasses:b}}const ze=B(g(g({id:String,appendIcon:$,prependIcon:$,hideDetails:[Boolean,String],messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)}},ae()),Nt())),Ue=Ee()({name:"VInput",props:g({},ze()),emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:l,slots:o,emit:r}=n;const{densityClasses:a}=ie(e),i=T(),s=t.computed(()=>e.id||`input-${i}`),{errorMessages:u,isDirty:d,isDisabled:m,isReadonly:p,isPristine:c,isValid:f,isValidating:b,reset:w,resetValidation:S,validate:N,validationClasses:_}=kt(e,"v-input",s),y=t.computed(()=>({id:s,isDirty:d,isDisabled:m,isReadonly:p,isPristine:c,isValid:f,isValidating:b,reset:w,resetValidation:S,validate:N}));return O(()=>{var I,L,D,U,X;const me=!!(o.prepend||e.prependIcon),pe=!!(o.append||e.appendIcon),Je=!!((I=e.messages)!=null&&I.length||u.value.length),fn=!e.hideDetails||e.hideDetails==="auto"&&Je;return t.createVNode("div",{class:["v-input",`v-input--${e.direction}`,a.value,_.value]},[me&&t.createVNode("div",{class:"v-input__prepend"},[o==null||(L=o.prepend)==null?void 0:L.call(o,y.value),e.prependIcon&&t.createVNode(se,{onClick:l["onClick:prepend"],icon:e.prependIcon},null)]),o.default&&t.createVNode("div",{class:"v-input__control"},[(D=o.default)==null?void 0:D.call(o,y.value)]),pe&&t.createVNode("div",{class:"v-input__append"},[o==null||(U=o.append)==null?void 0:U.call(o,y.value),e.appendIcon&&t.createVNode(se,{onClick:l["onClick:append"],icon:e.appendIcon},null)]),fn&&t.createVNode("div",{class:"v-input__details"},[t.createVNode(Ct,{active:Je,messages:u.value.length>0?u.value:e.messages},{message:o.message}),(X=o.details)==null?void 0:X.call(o,y.value)])])}),{reset:w,resetValidation:S,validate:N}}});function It(e){return ee(e,Object.keys(Ue.props))}var vn="",wn="";const He=E({name:"VLabel",props:g({text:String},W()),setup(e,n){let{slots:l}=n;return()=>{var o;return t.createVNode("label",{class:"v-label"},[e.text,(o=l.default)==null?void 0:o.call(l)])}}});var En="";const We=Symbol.for("vuetify:selection-control-group"),xt=E({name:"VSelectionControlGroup",props:{disabled:Boolean,id:String,inline:Boolean,name:String,falseIcon:$,trueIcon:$,multiple:{type:Boolean,default:null},readonly:Boolean,type:String,modelValue:null},emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:l}=n;const o=re(e,"modelValue"),r=T(),a=t.computed(()=>e.id||`v-selection-control-group-${r}`),i=t.computed(()=>e.name||a.value);return t.provide(We,{disabled:t.toRef(e,"disabled"),inline:t.toRef(e,"inline"),modelValue:o,multiple:t.computed(()=>!!e.multiple||e.multiple==null&&Array.isArray(o.value)),name:i,falseIcon:t.toRef(e,"falseIcon"),trueIcon:t.toRef(e,"trueIcon"),readonly:t.toRef(e,"readonly"),type:t.toRef(e,"type")}),O(()=>{var s;return t.createVNode("div",{class:"v-selection-control-group","aria-labelled-by":e.type==="radio"?a.value:void 0,role:e.type==="radio"?"radiogroup":void 0},[l==null||(s=l.default)==null?void 0:s.call(l)])}),{}}}),qe=B(g(g({color:String,disabled:Boolean,error:Boolean,id:String,inline:Boolean,label:String,falseIcon:$,trueIcon:$,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,trueValue:null,falseValue:null,modelValue:null,type:String,value:null,valueComparator:{type:Function,default:ye}},W()),ae()));function Bt(e){const n=t.inject(We,void 0),{densityClasses:l}=ie(e),o=re(e,"modelValue"),r=t.computed(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),a=t.computed(()=>e.falseValue!==void 0?e.falseValue:!1),i=t.computed(()=>(n==null?void 0:n.multiple.value)||!!e.multiple||e.multiple==null&&Array.isArray(o.value)),s=t.computed({get(){const p=n?n.modelValue.value:o.value;return i.value?p.some(c=>e.valueComparator(c,r.value)):e.valueComparator(p,r.value)},set(p){if(e.readonly)return;const c=p?r.value:a.value;let f=c;i.value&&(f=p?[...A(o.value),c]:A(o.value).filter(b=>!e.valueComparator(b,r.value))),n?n.modelValue.value=f:o.value=f}}),{textColorClasses:u,textColorStyles:d}=le(t.computed(()=>s.value&&!e.error&&!e.disabled?e.color:void 0)),m=t.computed(()=>{var p,c;return s.value?(p=n==null?void 0:n.trueIcon.value)!=null?p:e.trueIcon:(c=n==null?void 0:n.falseIcon.value)!=null?c:e.falseIcon});return{group:n,densityClasses:l,trueValue:r,falseValue:a,model:s,textColorClasses:u,textColorStyles:d,icon:m}}const Ge=Ee()({name:"VSelectionControl",directives:{Ripple:Et},inheritAttrs:!1,props:qe(),emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:l,slots:o}=n;const{densityClasses:r,group:a,icon:i,model:s,textColorClasses:u,textColorStyles:d,trueValue:m}=Bt(e),p=T(),c=t.computed(()=>e.id||`input-${p}`),f=t.ref(!1),b=t.ref(!1),w=t.ref();function S(_){f.value=!0,(!Se||Se&&_.target.matches(":focus-visible"))&&(b.value=!0)}function N(){f.value=!1,b.value=!1}return O(()=>{var _,y,I,L;const D=o.label?o.label({label:e.label,props:{for:c.value}}):e.label,U=(_=a==null?void 0:a.type.value)!=null?_:e.type,[X,me]=_e(l);return t.createVNode("div",t.mergeProps({class:["v-selection-control",{"v-selection-control--dirty":s.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":f.value,"v-selection-control--focus-visible":b.value,"v-selection-control--inline":(a==null?void 0:a.inline.value)||e.inline},r.value]},X),[t.createVNode("div",{class:["v-selection-control__wrapper",u.value],style:d.value},[(y=o.default)==null?void 0:y.call(o),t.withDirectives(t.createVNode("div",{class:["v-selection-control__input"]},[i.value&&t.createVNode(se,{icon:i.value},null),t.withDirectives(t.createVNode("input",t.mergeProps({"onUpdate:modelValue":pe=>s.value=pe,ref:w,disabled:e.disabled,id:c.value,onBlur:N,onFocus:S,"aria-readonly":e.readonly,type:U,value:m.value,name:(I=a==null?void 0:a.name.value)!=null?I:e.name,"aria-checked":U==="checkbox"?s.value:void 0},me),null),[[t.vModelDynamic,s.value]]),(L=o.input)==null?void 0:L.call(o,{model:s,textColorClasses:u,props:{onFocus:S,onBlur:N,id:c.value}})]),[[t.resolveDirective("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),D&&t.createVNode(He,{for:c.value},{default:()=>[D]})])}),{isFocused:f,input:w}}});function Dt(e){return ee(e,Object.keys(Ge.props))}const Ft=E({name:"VRadio",props:{falseIcon:{type:$,default:"$radioOff"},trueIcon:{type:$,default:"$radioOn"}},setup(e,n){let{slots:l}=n;return O(()=>t.createVNode(Ge,{class:"v-radio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:"radio"},l)),{}}});var Cn="";const At=E({name:"VRadioGroup",inheritAttrs:!1,props:x(g(g({height:{type:[Number,String],default:"auto"}},ze()),qe()),{trueIcon:{type:$,default:"$radioOn"},falseIcon:{type:$,default:"$radioOff"},type:{type:String,default:"radio"}}),setup(e,n){let{attrs:l,slots:o}=n;const r=T(),a=t.computed(()=>e.id||`radio-group-${r}`);return O(()=>{const[i,s]=_e(l),[u,d]=It(e),[m,p]=Dt(e),c=o.label?o.label({label:e.label,props:{for:a.value}}):e.label;return t.createVNode(Ue,t.mergeProps({class:"v-radio-group"},i,u,{id:a.value}),x(g({},o),{default:f=>{let{id:b,isDisabled:w,isReadonly:S}=f;return t.createVNode(t.Fragment,null,[c&&t.createVNode(He,{for:b.value},{default:()=>[c]}),t.createVNode(xt,t.mergeProps(m,{id:b.value,trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:w.value,readonly:S.value},s),o)])}}))}),{}}});var Sn="";const z=E({name:"VTable",props:g(g(g({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String]},ae()),W()),xe()),setup(e,n){let{slots:l}=n;const{themeClasses:o}=Ne(e),{densityClasses:r}=ie(e);return()=>{var a,i,s;return t.createVNode(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!l.top,"v-table--has-bottom":!!l.bottom},o.value,r.value]},{default:()=>[(a=l.top)==null?void 0:a.call(l),l.default&&t.createVNode("div",{class:"v-table__wrapper",style:{height:F(e.height)}},[t.createVNode("table",null,[(i=l.default)==null?void 0:i.call(l)])]),(s=l.bottom)==null?void 0:s.call(l)]})}}}),Tt=t.defineComponent({name:"SubtitleSelector"}),Pt=t.defineComponent(x(g({},Tt),{props:{subtitles:{type:Array,default:()=>[]}},setup(e){const n=e;return(l,o)=>(t.openBlock(),t.createBlock(t.unref(At),null,{default:t.withCtx(()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(n.subtitles,r=>(t.openBlock(),t.createBlock(t.unref(Ft),{key:r.index,color:"primary",label:`${r.language}${r.title?"("+r.title+")":""}`,value:r},null,8,["label","value"]))),128))]),_:1}))}})),Lt=[t.createElementVNode("h1",null,"\u64AD\u653E\u52A0\u8F7D\u5931\u8D25\u4E86QAQ",-1)],Rt=t.defineComponent({name:"VideoEnhancePlayer"}),Ot=t.defineComponent(x(g({},Rt),{props:{url:{type:String,default:void 0},videoInfo:{type:Object,default:void 0},subtitleUrls:{type:Array,default:()=>[]}},setup(e){const n=e,l=t.ref();let o;const r=()=>{if(!n.url)return;const a={container:l.value,video:{url:n.url}},i=t.ref();if(n.videoInfo){const s=n.videoInfo.streams.filter(u=>u.codecType=="subtitle");s.length&&(window.SfcUtils.snackbar(`\u68C0\u6D4B\u5230${s.length}\u4E2A\u5B57\u5E55`),a.contextmenu=[{text:"\u9009\u62E9\u5B57\u5E55",click(){window.SfcUtils.openComponentDialog(Pt,{props:t.reactive({subtitles:s,"onUpdate:modelValue"(u){i.value=u},modelValue:i}),title:"\u9009\u62E9\u5B57\u5E55",contentMaxHeight:"360px",async onConfirm(){const u=o.video.currentTime,d=n.subtitleUrls.find(m=>m.index==i.value.index);return d?(a.subtitle={url:d.url,fontSize:"21px"},a.contextmenu[0].text="\u5B57\u5E55\uFF1A"+i.value.language+(i.value.title?"("+i.value.title+")":""),console.log(a.contextmenu),o.destroy(),o=new window.DPlayer(a),o.play(),o.seek(u),!0):(window.SfcUtils.snackbar("\u627E\u4E0D\u5230\u6D41\u7F16\u53F7\u4E3A"+i.value+"\u7684\u5B57\u5E55\u6D41"),!0)}})}}]),n.videoInfo.chapters.length&&(a.highlight=n.videoInfo.chapters.map(u=>({text:u.title,time:Number(u.startTime)})))}o=new window.DPlayer(a),o.play()};return t.onMounted(async()=>{await t.nextTick(),r()}),t.watch(()=>n.url,r),(a,i)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"rootRef",ref:l},Lt,512))}})),Mt=t.defineComponent({name:"ConfigureInfo"}),jt=t.defineComponent(x(g({},Mt),{props:{modelValue:{type:String,default:""}},setup(e){const n=e,l=()=>{window.SfcUtils.alert(n.modelValue,"\u7F16\u8BD1\u53C2\u6570")};return(o,r)=>(t.openBlock(),t.createElementBlock("a",{class:"link",onClick:l},"\u67E5\u770B\u7F16\u8BD1\u53C2\u6570"))}})),zt=t.createElementVNode("thead",null,[t.createElementVNode("tr",null,[t.createElementVNode("th",{style:{width:"90px"}}," \u7F16\u7801\u5668 "),t.createElementVNode("th",null,"\u63CF\u8FF0")])],-1),Ut={class:"break-text"},Ht=t.defineComponent({name:"EncoderInfoList"}),Ke=t.defineComponent(x(g({},Ht),{props:{modelValue:{type:Array,default:()=>[]}},setup(e){return(n,l)=>{const o=t.resolveComponent("EmptyTip");return e.modelValue&&e.modelValue.length?(t.openBlock(),t.createBlock(z,{key:0},{default:t.withCtx(()=>[zt,t.createElementVNode("tbody",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.modelValue,r=>(t.openBlock(),t.createElementBlock("tr",{key:r.name},[t.createElementVNode("td",Ut,t.toDisplayString(r.name),1),t.createElementVNode("td",null,t.toDisplayString(r.describe),1)]))),128))])]),_:1})):(t.openBlock(),t.createBlock(o,{key:1}))}}})),Wt=t.defineComponent({name:"EncoderInfo"}),qt=t.defineComponent(x(g({},Wt),{props:{modelValue:{type:Array,default:()=>[]}},setup(e){const n=e,l=()=>{window.SfcUtils.openComponentDialog(Ke,{props:{modelValue:n.modelValue},title:"\u7F16\u7801\u5668\u8BE6\u60C5"})};return(o,r)=>(t.openBlock(),t.createElementBlock("a",{class:"link",onClick:l},"\u67E5\u770B\u8BE6\u60C5("+t.toDisplayString(e.modelValue.length)+"\u4E2A)",1))}}));window.bootContext.addProcessor({taskName:"\u6CE8\u518C\u7EC4\u4EF6",execute(e,n){e.component("ConfigureInfo",jt),e.component("EncoderInfo",qt),e.component("EncoderInfoList",Ke)}});function fe(e){return e<10?"0"+e:""+e}var K;(e=>{function n(o){return o<1e3?o+"bps":o<1e6?(Number(o)/1e3).toFixed(2)+"Kbps":o<1e9?(Number(o)/1e6).toFixed(2)+"Mbps":o}e.formatBitRate=n;function l(o){const r=Number(o),a=fe(Math.floor(r/3600)),i=fe(Math.floor(r/60%60)),s=fe(Math.floor(r%60));return`${a}:${i}:${s}`}e.formatDuration=l})(K||(K={}));const Gt=t.createElementVNode("div",{class:"text-title"}," \u57FA\u672C\u4FE1\u606F ",-1),Kt=t.createElementVNode("td",{style:{"min-width":"160px"}}," \u5C01\u88C5\u683C\u5F0F ",-1),Yt=t.createElementVNode("td",null,"\u5C01\u88C5\u683C\u5F0F\u5168\u79F0",-1),Xt=t.createElementVNode("td",null,"\u7801\u7387",-1),Qt=t.createElementVNode("td",null,"\u6301\u7EED\u65F6\u957F",-1),Zt={key:0},Jt=t.createElementVNode("td",null,"\u5176\u4ED6\u6807\u8BB0",-1),en=t.createElementVNode("thead",null,[t.createElementVNode("tr",null,[t.createElementVNode("th",null,"\u540D\u79F0"),t.createElementVNode("th",null,"\u503C")])],-1),tn=t.createElementVNode("div",{class:"text-title"}," \u89C6\u9891\u6D41 ",-1),nn=t.createElementVNode("thead",null,[t.createElementVNode("tr",null,[t.createElementVNode("th",null,"\u7F16\u7801"),t.createElementVNode("th",null,"\u5206\u8FA8\u7387"),t.createElementVNode("th",null,"\u5E27\u7387"),t.createElementVNode("th",null,"\u8BED\u8A00")])],-1),on=t.createElementVNode("div",{class:"text-title"}," \u97F3\u9891\u6D41 ",-1),ln=t.createElementVNode("thead",null,[t.createElementVNode("tr",null,[t.createElementVNode("th",null,"\u7F16\u7801"),t.createElementVNode("th",null,"\u91C7\u6837"),t.createElementVNode("th",null,"\u7801\u7387"),t.createElementVNode("th",null,"\u58F0\u9053"),t.createElementVNode("th",null,"\u8BED\u8A00")])],-1),rn=t.defineComponent({name:"VideoInfo"}),an=t.defineComponent(x(g({},rn),{props:{videoInfo:{type:Object,default:()=>({})},file:{type:Object,default:void 0}},setup(e){const n=e,l=t.ref(!1),o=t.computed(()=>n.videoInfo.streams.filter(a=>a.codecType=="video")),r=t.computed(()=>n.videoInfo.streams.filter(a=>a.codecType=="audio"));return(a,i)=>(t.openBlock(),t.createElementBlock("div",null,[Gt,t.createVNode(z,null,{default:t.withCtx(()=>[t.createElementVNode("tbody",null,[t.createElementVNode("tr",null,[Kt,t.createElementVNode("td",null,t.toDisplayString(e.videoInfo.format.formatName),1)]),t.createElementVNode("tr",null,[Yt,t.createElementVNode("td",null,t.toDisplayString(e.videoInfo.format.formatLongName),1)]),t.createElementVNode("tr",null,[Xt,t.createElementVNode("td",null,t.toDisplayString(t.unref(K).formatBitRate(e.videoInfo.format.bitRate))+" ("+t.toDisplayString(e.videoInfo.format.bitRate)+")",1)]),t.createElementVNode("tr",null,[Qt,t.createElementVNode("td",null,t.toDisplayString(t.unref(K).formatDuration(e.videoInfo.format.duration)),1)]),e.videoInfo.format.tags?(t.openBlock(),t.createElementBlock("tr",Zt,[Jt,t.createElementVNode("td",null,[l.value?(t.openBlock(),t.createBlock(z,{key:0},{default:t.withCtx(()=>[en,t.createElementVNode("tbody",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(Object.keys(e.videoInfo.format.tags),s=>(t.openBlock(),t.createElementBlock("tr",{key:s},[t.createElementVNode("td",null,t.toDisplayString(s),1),t.createElementVNode("td",null,t.toDisplayString(e.videoInfo.format.tags[s]),1)]))),128))])]),_:1})):t.createCommentVNode("",!0),t.createElementVNode("a",{class:"link",onClick:i[0]||(i[0]=s=>l.value=!l.value)},t.toDisplayString(l.value?"\u6536\u8D77":"\u5C55\u5F00"),1)])])):t.createCommentVNode("",!0)])]),_:1}),tn,t.createVNode(z,null,{default:t.withCtx(()=>[nn,t.createElementVNode("tbody",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(o),s=>(t.openBlock(),t.createElementBlock("tr",{key:s.index},[t.createElementVNode("td",null,t.toDisplayString(s.codecName),1),t.createElementVNode("td",null,t.toDisplayString(s.width)+"x"+t.toDisplayString(s.height),1),t.createElementVNode("td",null,t.toDisplayString(s.avgFrameRate.toFixed(3)),1),t.createElementVNode("td",null,t.toDisplayString(s.language||"-"),1)]))),128))])]),_:1}),on,t.createVNode(z,null,{default:t.withCtx(()=>[ln,t.createElementVNode("tbody",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(r),s=>(t.openBlock(),t.createElementBlock("tr",{key:s.index},[t.createElementVNode("td",null,t.toDisplayString(s.codecName),1),t.createElementVNode("td",null,t.toDisplayString(s.sampleRate/1e3)+"kHz",1),t.createElementVNode("td",null,t.toDisplayString(s.bitRate/1e3)+"K",1),t.createElementVNode("td",null,t.toDisplayString(s.channels),1),t.createElementVNode("td",null,t.toDisplayString(s.language||"-"),1)]))),128))])]),_:1})]))}})),Y=window.context,P=window.SfcUtils;function sn(e,n,l){if(!n.name.endsWith(".mkv"))return null;const o={name:n.name,path:e.path,protocol:"subtitle",targetId:e.uid,stream:l};if(e.protocol=="main")return window.SfcUtils.getApiUrl(window.API.resource.getCommonResource(o));const r=e.getProtocolParams();return o.sourceProtocol=e.protocol,o.sourceId=r.id,Object.keys(r).filter(a=>a!="id").forEach(a=>{o[a]=r[a]}),window.SfcUtils.getApiUrl(window.API.resource.getCommonResource(o))}async function un(e,n){let l=n.path;l||(l=(await P.request(window.API.resource.parseNodeId(n.uid,n.node))).data.data);const o={name:n.name,path:l,targetId:e.uid,sourceProtocol:e.protocol},r=e.getProtocolParams();return o.sourceId=r.id,Object.keys(r).filter(a=>a!="id").forEach(a=>{o[a]=r[a]}),o}async function Ye(e,n){const l=await un(e,n);return l.protocol="videoInfo",(await await P.request(window.API.resource.getCommonResource(l))).data}const cn=new Set(["mp4","mkv","avi","rm","rmvb","m4v","flv","mpg","mpeg","mpe"]);function Xe(e){const n=e.split(".").pop();return!!n&&cn.has(n)}const Qe={id:"player",icon:"mdi-play-circle",matcher(e,n){return n.mount?!1:Xe(n.name)},title:"\u64AD\u653E\u89C6\u9891",async action(e,n){try{P.beginLoading(),await window.SfcUtils.sleep(100);const l=await Ye(e,n);P.openComponentDialog(Ot,{props:{url:e.getFileUrl(n),videoInfo:l,subtitleUrls:l.streams.filter(o=>o.codecType=="subtitle").map(o=>({index:o.index,url:sn(e,n,o.index)}))},dense:!0,showCancel:!1,title:"\u89C6\u9891\u9884\u89C8\uFF1A"+n.name,extraDialogOptions:{maxWidth:"80%"}})}catch(l){P.snackbar(l)}finally{P.closeLoading()}},sort:0},dn={id:"video",name:"\u89C6\u9891",items:[{title:"\u89C6\u9891\u4FE1\u606F",id:"video-info",renderOn(e){return e&&e.selectFileList.length==1&&!e.selectFileList[0].mount&&Xe(e.selectFileList[0].name)},icon:"mdi-information-variant",sort:0,async action(e){const n=await Ye(e,e.selectFileList[0]);window.SfcUtils.openComponentDialog(an,{props:{videoInfo:n},title:`\u5A92\u4F53\u4FE1\u606F\uFF1A${e.selectFileList[0].name}`})}}]},Ze=Y.fileOpenHandler.value.findIndex(e=>e.id=="play-video");Ze!=-1?Y.fileOpenHandler.value[Ze]=Qe:Y.fileOpenHandler.value.push(Qe),Y.menu.value.fileListMenu.push(dn)});
