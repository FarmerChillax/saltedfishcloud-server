(function(t,b){typeof exports=="object"&&typeof module!="undefined"?b(require("vue")):typeof define=="function"&&define.amd?define(["vue"],b):(t=typeof globalThis!="undefined"?globalThis:t||self,b(t.Vue))})(this,function(t){"use strict";var Sn=Object.defineProperty,Nn=Object.defineProperties;var kn=Object.getOwnPropertyDescriptors;var ee=Object.getOwnPropertySymbols;var it=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable;var at=(t,b,N)=>b in t?Sn(t,b,{enumerable:!0,configurable:!0,writable:!0,value:N}):t[b]=N,h=(t,b)=>{for(var N in b||(b={}))it.call(b,N)&&at(t,N,b[N]);if(ee)for(var N of ee(b))st.call(b,N)&&at(t,N,b[N]);return t},F=(t,b)=>Nn(t,kn(b));var Se=(t,b)=>{var N={};for(var B in t)it.call(t,B)&&b.indexOf(B)<0&&(N[B]=t[B]);if(t!=null&&ee)for(var B of ee(t))b.indexOf(B)<0&&st.call(t,B)&&(N[B]=t[B]);return N};function b(e,n,l){if(l&&(n={_isVue:!0,$parent:l,$options:n}),n){if(n.$_alreadyWarned=n.$_alreadyWarned||[],n.$_alreadyWarned.includes(e))return;n.$_alreadyWarned.push(e)}return`[Vuetify] ${e}`+(n?ut(n):"")}function N(e,n,l){const o=b(e,n,l);o!=null&&console.warn(o)}const B=/(?:^|[-_])(\w)/g,ct=e=>e.replace(B,n=>n.toUpperCase()).replace(/[-_]/g,"");function te(e,n){if(e.$root===e)return"<Root>";const l=typeof e=="function"&&e.cid!=null?e.options:e._isVue?e.$options||e.constructor.options:e||{};let o=l.name||l._componentTag;const r=l.__file;if(!o&&r){const a=r.match(/([^/\\]+)\.vue$/);o=a==null?void 0:a[1]}return(o?`<${ct(o)}>`:"<Anonymous>")+(r&&n!==!1?` at ${r}`:"")}function ut(e){if(e._isVue&&e.$parent){const n=[];let l=0;for(;e;){if(n.length>0){const o=n[n.length-1];if(o.constructor===e.constructor){l++,e=e.$parent;continue}else l>0&&(n[n.length-1]=[o,l],l=0)}n.push(e),e=e.$parent}return`

found in

`+n.map((o,r)=>`${r===0?"---> ":" ".repeat(5+r*2)}${Array.isArray(o)?`${te(o[0])}... (${o[1]} recursive calls)`:te(o)}`).join(`
`)}else return`

(found in ${te(e)})`}function Ne(e,n){if(e===n)return!0;if(e instanceof Date&&n instanceof Date&&e.getTime()!==n.getTime()||e!==Object(e)||n!==Object(n))return!1;const l=Object.keys(e);return l.length!==Object.keys(n).length?!1:l.every(o=>Ne(e[o],n[o]))}function R(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${n}`:void 0}function ne(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}const ke=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function H(e,n){const l=Object.create(null),o=Object.create(null);for(const r in e)n.some(a=>a instanceof RegExp?a.test(r):a===r)?l[r]=e[r]:o[r]=e[r];return[l,o]}function oe(e){return H(e,["class","style","id",/^data-/])}function O(e){return e==null?[]:Array.isArray(e)?e:[e]}function le(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;const o={};for(const r in e)o[r]=e[r];for(const r in n){const a=e[r],i=n[r];if(ne(a)&&ne(i)){o[r]=le(a,i,l);continue}if(Array.isArray(a)&&Array.isArray(i)&&l){o[r]=l(a,i);continue}o[r]=i}return o}function $e(e){return e.map(n=>n.type===t.Fragment?$e(n.children):n).flat()}function re(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase()}function ve(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}const Ie=Symbol.for("vuetify:defaults");function xe(){const e=t.inject(Ie);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function dt(e,n){const l=xe(),o=t.ref(e),r=t.computed(()=>{const a=t.unref(n==null?void 0:n.scoped),i=t.unref(n==null?void 0:n.reset),s=t.unref(n==null?void 0:n.root);let c=le(o.value,{prev:l.value});if(a)return c;if(i||s){const m=Number(i||1/0);for(let g=0;g<=m&&c.prev;g++)c=c.prev;return c}return le(c.prev,c)});return t.provide(Ie,r),r}function mt(e,n){var l,o;return((l=e.props)==null?void 0:l.hasOwnProperty(n))||((o=e.props)==null?void 0:o.hasOwnProperty(re(n)))}const k=function(n){var l;if(n._setup=(l=n._setup)!=null?l:n.setup,!n.name)return N("The component is missing an explicit name, unable to generate default prop value"),n;if(n._setup){var o;n.props=(o=n.props)!=null?o:{},n.props._as=String,n.setup=function(a,i){const s=t.getCurrentInstance(),c=xe(),m=t.shallowRef(),g=t.shallowReactive(h({},t.toRaw(a)));t.watchEffect(()=>{var p;const E=c.value.global,w=c.value[(p=a._as)!=null?p:n.name];if(w){const u=Object.entries(w).filter(_=>{let[$]=_;return $.startsWith("V")});u.length&&(m.value=Object.fromEntries(u))}for(const u of Object.keys(a)){let _;if(mt(s.vnode,u))_=a[u];else{var C,f;_=(C=(f=w==null?void 0:w[u])!=null?f:E==null?void 0:E[u])!=null?C:a[u]}g[u]!==_&&(g[u]=_)}});const y=n._setup(g,i);let d;return t.watch(m,(p,E)=>{!p&&d?d.stop():p&&!E&&(d=t.effectScope(),d.run(()=>{dt(p)}))},{immediate:!0}),y}}return n};function Fe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n=>(e?k:t.defineComponent)(n)}function M(e,n){const l=t.getCurrentInstance();if(!l)throw new Error(`[Vuetify] ${e} ${n||"must be called from inside a setup function"}`);return l}function ae(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";return re((e=M(n).type)==null?void 0:e.name)}let Be=0,W=new WeakMap;function T(){const e=M("getUid");if(W.has(e))return W.get(e);{const n=Be++;return W.set(e,n),n}}T.reset=()=>{Be=0,W=new WeakMap};const De=typeof window!="undefined"&&CSS.supports("selector(:focus-visible)");function D(e,n){return l=>Object.keys(e).reduce((o,r)=>{const i=typeof e[r]=="object"&&e[r]!=null&&!Array.isArray(e[r])?e[r]:{type:e[r]};return l&&r in l?o[r]=F(h({},i),{default:l[r]}):o[r]=i,n&&(o[r].source=n),o},{})}function L(e){const n=M("useRender");n.render=e}const Ae=Symbol.for("vuetify:theme"),q=D({theme:String},"theme");function Te(e){M("provideTheme");const n=t.inject(Ae,null);if(!n)throw new Error("Could not find Vuetify theme injection");const l=t.computed(()=>{var a;return(a=e.theme)!=null?a:n==null?void 0:n.name.value}),o=t.computed(()=>n.isDisabled?void 0:`v-theme--${l.value}`),r=F(h({},n),{name:l,themeClasses:o});return t.provide(Ae,r),r}function S(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top center 0",l=arguments.length>2?arguments[2]:void 0;return k({name:e,props:{group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:{type:String,default:l},origin:{type:String,default:n}},setup(o,r){let{slots:a}=r;return()=>{const i=o.group?t.TransitionGroup:t.Transition;return t.h(i,{name:e,mode:o.mode,onBeforeEnter(s){s.style.transformOrigin=o.origin},onLeave(s){if(o.leaveAbsolute){const{offsetTop:c,offsetLeft:m,offsetWidth:g,offsetHeight:y}=s;s._transitionInitialStyles={position:s.style.position,top:s.style.top,left:s.style.left,width:s.style.width,height:s.style.height},s.style.position="absolute",s.style.top=`${c}px`,s.style.left=`${m}px`,s.style.width=`${g}px`,s.style.height=`${y}px`}o.hideOnLeave&&s.style.setProperty("display","none","important")},onAfterLeave(s){if(o.leaveAbsolute&&s!=null&&s._transitionInitialStyles){const{position:c,top:m,left:g,width:y,height:d}=s._transitionInitialStyles;delete s._transitionInitialStyles,s.style.position=c||"",s.style.top=m||"",s.style.left=g||"",s.style.width=y||"",s.style.height=d||""}}},a.default)}}})}function Le(e,n){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return k({name:e,props:{mode:{type:String,default:l}},setup(o,r){let{slots:a}=r;return()=>t.h(t.Transition,h({name:e},n),a.default)}})}function Pe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const l=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",o=t.camelize(`offset-${l}`);return{onBeforeEnter(i){i._parent=i.parentNode,i._initialStyle={transition:i.style.transition,overflow:i.style.overflow,[l]:i.style[l]}},onEnter(i){const s=i._initialStyle;i.style.setProperty("transition","none","important"),i.style.overflow="hidden";const c=`${i[o]}px`;i.style[l]="0",i.offsetHeight,i.style.transition=s.transition,e&&i._parent&&i._parent.classList.add(e),requestAnimationFrame(()=>{i.style[l]=c})},onAfterEnter:a,onEnterCancelled:a,onLeave(i){i._initialStyle={transition:"",overflow:i.style.overflow,[l]:i.style[l]},i.style.overflow="hidden",i.style[l]=`${i[o]}px`,i.offsetHeight,requestAnimationFrame(()=>i.style[l]="0")},onAfterLeave:r,onLeaveCancelled:r};function r(i){e&&i._parent&&i._parent.classList.remove(e),a(i)}function a(i){const s=i._initialStyle[l];i.style.overflow=i._initialStyle.overflow,s!=null&&(i.style[l]=s),delete i._initialStyle}}S("carousel-transition"),S("carousel-reverse-transition"),S("tab-transition"),S("tab-reverse-transition"),S("menu-transition"),S("fab-transition","center center","out-in"),S("dialog-bottom-transition"),S("dialog-top-transition"),S("fade-transition"),S("scale-transition"),S("scroll-x-transition"),S("scroll-x-reverse-transition"),S("scroll-y-transition"),S("scroll-y-reverse-transition"),S("slide-x-transition"),S("slide-x-reverse-transition");const ft=S("slide-y-transition");S("slide-y-reverse-transition"),Le("expand-transition",Pe()),Le("expand-x-transition",Pe("",!0));const pt=D({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),gt=(e,n)=>{var l;let{slots:o}=n;const c=e,{transition:r}=c,a=Se(c,["transition"]);if(!r||typeof r=="boolean")return(l=o.default)==null?void 0:l.call(o);const m=typeof r=="object"?r:{},{component:i=t.Transition}=m,s=Se(m,["component"]);return t.h(i,t.mergeProps(typeof r=="string"?{name:r}:s,a),o)},Re=D({tag:{type:String,default:"div"}},"tag");function yt(e){const n=t.computed(()=>ve(e.value.background)),l=t.computed(()=>ve(e.value.text)),o=t.computed(()=>{const a=[];return e.value.background&&!n.value&&a.push(`bg-${e.value.background}`),e.value.text&&!l.value&&a.push(`text-${e.value.text}`),a}),r=t.computed(()=>{const a={};return e.value.background&&n.value&&(a.backgroundColor=e.value.background),e.value.text&&l.value&&(a.color=e.value.text,a.caretColor=e.value.text),a});return{colorClasses:o,colorStyles:r}}function ie(e,n){const l=t.computed(()=>({text:t.isRef(e)?e.value:n?e[n]:null})),{colorClasses:o,colorStyles:r}=yt(l);return{textColorClasses:o,textColorStyles:r}}function G(e,n,l){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:c=>c,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:c=>c;const a=M("useProxiedModel"),i=t.computed(()=>{var c,m;return!!(typeof e[n]!="undefined"&&(a!=null&&(c=a.vnode.props)!=null&&c.hasOwnProperty(n)||a!=null&&(m=a.vnode.props)!=null&&m.hasOwnProperty(re(n))))}),s=t.ref(o(e[n]));return t.computed({get(){return i.value?o(e[n]):s.value},set(c){(i.value?o(e[n]):s.value)!==c&&(s.value=c,a==null||a.emit(`update:${n}`,r(c)))}})}const ht=[null,"default","comfortable","compact"],se=D({density:{type:String,default:"default",validator:e=>ht.includes(e)}},"density");function ce(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ae();return{densityClasses:t.computed(()=>`${n}--density-${e.density}`)}}var vn="";const Oe=["x-small","small","default","large","x-large"],Vt=D({size:{type:[String,Number],default:"default"}},"size");function _t(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ae();const l=t.computed(()=>Oe.includes(e.size)?`${n}--size-${e.size}`:null),o=t.computed(()=>!Oe.includes(e.size)&&e.size?{width:R(e.size),height:R(e.size)}:null);return{sizeClasses:l,sizeStyles:o}}const v=[String,Function,Object],bt=Symbol.for("vuetify:icons"),K=D({icon:{type:v,required:!0},tag:{type:String,required:!0}},"icon"),Et=k({name:"VComponentIcon",props:K(),setup(e){return()=>t.createVNode(e.tag,null,{default:()=>[t.createVNode(e.icon,null,null)]})}});k({name:"VSvgIcon",inheritAttrs:!1,props:K(),setup(e,n){let{attrs:l}=n;return()=>t.createVNode(e.tag,t.mergeProps(l,{style:null}),{default:()=>[t.createVNode("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[t.createVNode("path",{d:e.icon},null)])]})}}),k({name:"VLigatureIcon",props:K(),setup(e){return()=>t.createVNode(e.tag,null,{default:()=>[e.icon]})}}),k({name:"VClassIcon",props:K(),setup(e){return()=>t.createVNode(e.tag,{class:e.icon},null)}});const Ct=e=>{const n=t.inject(bt);if(!n)throw new Error("Missing Vuetify Icons provide!");return{iconData:t.computed(()=>{const o=t.isRef(e)?e.value:e.icon;if(!o)throw new Error("Icon value is undefined or null");let r=o;if(typeof o=="string"&&o.includes("$")){var a;r=(a=n.aliases)==null?void 0:a[o.slice(o.indexOf("$")+1)]}if(!r)throw new Error(`Could not find aliased icon "${o}"`);if(typeof r!="string")return{component:Et,icon:r};const i=Object.keys(n.sets).find(m=>typeof r=="string"&&r.startsWith(`${m}:`)),s=i?r.slice(i.length+1):r;return{component:n.sets[i!=null?i:n.defaultSet].component,icon:s}})}},wt=D(h(h(h({color:String,start:Boolean,end:Boolean,icon:v},Vt()),Re({tag:"i"})),q()),"v-icon"),ue=k({name:"VIcon",props:wt(),setup(e,n){let{attrs:l,slots:o}=n,r;o.default&&(r=t.computed(()=>{var g,y;const d=(g=o.default)==null?void 0:g.call(o);if(!!d)return(y=$e(d).filter(p=>p.children&&typeof p.children=="string")[0])==null?void 0:y.children}));const{themeClasses:a}=Te(e),{iconData:i}=Ct(r||e),{sizeClasses:s}=_t(e),{textColorClasses:c,textColorStyles:m}=ie(t.toRef(e,"color"));return()=>t.createVNode(i.value.component,{tag:e.tag,icon:i.value.icon,class:["v-icon","notranslate",s.value,c.value,a.value,{"v-icon--clickable":!!l.onClick,"v-icon--start":e.start,"v-icon--end":e.end}],style:[s.value?void 0:{fontSize:R(e.size),width:R(e.size),height:R(e.size)},m.value],"aria-hidden":"true"},null)}});var In="";const de=Symbol("rippleStop"),St=80;function Ue(e,n){e.style.transform=n,e.style.webkitTransform=n}function me(e,n){e.style.opacity=`calc(${n} * var(--v-theme-overlay-multiplier))`}function fe(e){return e.constructor.name==="TouchEvent"}function Me(e){return e.constructor.name==="KeyboardEvent"}const Nt=function(e,n){var l;let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,a=0;if(!Me(e)){const d=n.getBoundingClientRect(),p=fe(e)?e.touches[e.touches.length-1]:e;r=p.clientX-d.left,a=p.clientY-d.top}let i=0,s=.3;(l=n._ripple)!=null&&l.circle?(s=.15,i=n.clientWidth/2,i=o.center?i:i+Math.sqrt((r-i)**2+(a-i)**2)/4):i=Math.sqrt(n.clientWidth**2+n.clientHeight**2)/2;const c=`${(n.clientWidth-i*2)/2}px`,m=`${(n.clientHeight-i*2)/2}px`,g=o.center?c:`${r-i}px`,y=o.center?m:`${a-i}px`;return{radius:i,scale:s,x:g,y,centerX:c,centerY:m}},Y={show(e,n){var l;let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(n!=null&&(l=n._ripple)!=null&&l.enabled))return;const r=document.createElement("span"),a=document.createElement("span");r.appendChild(a),r.className="v-ripple__container",o.class&&(r.className+=` ${o.class}`);const{radius:i,scale:s,x:c,y:m,centerX:g,centerY:y}=Nt(e,n,o),d=`${i*2}px`;a.className="v-ripple__animation",a.style.width=d,a.style.height=d,n.appendChild(r);const p=window.getComputedStyle(n);p&&p.position==="static"&&(n.style.position="relative",n.dataset.previousPosition="static"),a.classList.add("v-ripple__animation--enter"),a.classList.add("v-ripple__animation--visible"),Ue(a,`translate(${c}, ${m}) scale3d(${s},${s},${s})`),me(a,0),a.dataset.activated=String(performance.now()),setTimeout(()=>{a.classList.remove("v-ripple__animation--enter"),a.classList.add("v-ripple__animation--in"),Ue(a,`translate(${g}, ${y}) scale3d(1,1,1)`),me(a,.08)},0)},hide(e){var n;if(!(e!=null&&(n=e._ripple)!=null&&n.enabled))return;const l=e.getElementsByClassName("v-ripple__animation");if(l.length===0)return;const o=l[l.length-1];if(o.dataset.isHiding)return;o.dataset.isHiding="true";const r=performance.now()-Number(o.dataset.activated),a=Math.max(250-r,0);setTimeout(()=>{o.classList.remove("v-ripple__animation--in"),o.classList.add("v-ripple__animation--out"),me(o,0),setTimeout(()=>{e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),o.parentNode&&e.removeChild(o.parentNode)},300)},a)}};function je(e){return typeof e=="undefined"||!!e}function j(e){const n={},l=e.currentTarget;if(!(!(l!=null&&l._ripple)||l._ripple.touched||e[de])){if(e[de]=!0,fe(e))l._ripple.touched=!0,l._ripple.isTouch=!0;else if(l._ripple.isTouch)return;if(n.center=l._ripple.centered||Me(e),l._ripple.class&&(n.class=l._ripple.class),fe(e)){if(l._ripple.showTimerCommit)return;l._ripple.showTimerCommit=()=>{Y.show(e,l,n)},l._ripple.showTimer=window.setTimeout(()=>{var o;l!=null&&(o=l._ripple)!=null&&o.showTimerCommit&&(l._ripple.showTimerCommit(),l._ripple.showTimerCommit=null)},St)}else Y.show(e,l,n)}}function ze(e){e[de]=!0}function I(e){const n=e.currentTarget;if(!(!n||!n._ripple)){if(window.clearTimeout(n._ripple.showTimer),e.type==="touchend"&&n._ripple.showTimerCommit){n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null,n._ripple.showTimer=window.setTimeout(()=>{I(e)});return}window.setTimeout(()=>{n._ripple&&(n._ripple.touched=!1)}),Y.hide(n)}}function He(e){const n=e.currentTarget;!n||!n._ripple||(n._ripple.showTimerCommit&&(n._ripple.showTimerCommit=null),window.clearTimeout(n._ripple.showTimer))}let z=!1;function We(e){!z&&(e.keyCode===ke.enter||e.keyCode===ke.space)&&(z=!0,j(e))}function qe(e){z=!1,I(e)}function Ge(e){z&&(z=!1,I(e))}function Ke(e,n,l){var o;const{value:r,modifiers:a}=n,i=je(r);if(i||Y.hide(e),e._ripple=(o=e._ripple)!=null?o:{},e._ripple.enabled=i,e._ripple.centered=a.center,e._ripple.circle=a.circle,ne(r)&&r.class&&(e._ripple.class=r.class),i&&!l){if(a.stop){e.addEventListener("touchstart",ze,{passive:!0}),e.addEventListener("mousedown",ze);return}e.addEventListener("touchstart",j,{passive:!0}),e.addEventListener("touchend",I,{passive:!0}),e.addEventListener("touchmove",He,{passive:!0}),e.addEventListener("touchcancel",I),e.addEventListener("mousedown",j),e.addEventListener("mouseup",I),e.addEventListener("mouseleave",I),e.addEventListener("keydown",We),e.addEventListener("keyup",qe),e.addEventListener("blur",Ge),e.addEventListener("dragstart",I,{passive:!0})}else!i&&l&&Ye(e)}function Ye(e){e.removeEventListener("mousedown",j),e.removeEventListener("touchstart",j),e.removeEventListener("touchend",I),e.removeEventListener("touchmove",He),e.removeEventListener("touchcancel",I),e.removeEventListener("mouseup",I),e.removeEventListener("mouseleave",I),e.removeEventListener("keydown",We),e.removeEventListener("keyup",qe),e.removeEventListener("dragstart",I),e.removeEventListener("blur",Ge)}function kt(e,n){Ke(e,n,!1)}function $t(e){delete e._ripple,Ye(e)}function vt(e,n){if(n.value===n.oldValue)return;const l=je(n.oldValue);Ke(e,n,l)}const It={mounted:kt,unmounted:$t,updated:vt};var xn="",Fn="",Bn="";const xt=k({name:"VMessages",props:h({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]}},pt({transition:{component:ft,leaveAbsolute:!0,group:!0}})),setup(e,n){let{slots:l}=n;const o=t.computed(()=>O(e.messages)),{textColorClasses:r,textColorStyles:a}=ie(t.computed(()=>e.color));return()=>t.createVNode(gt,{transition:e.transition,tag:"div",class:["v-messages",r.value],style:a.value},{default:()=>[e.active&&o.value.map((i,s)=>t.createVNode("div",{class:"v-messages__message",key:`${s}-${o.value}`},[l.message?l.message({message:i}):i]))]})}}),Ft=Symbol.for("vuetify:form");function Bt(){return t.inject(Ft,null)}const Dt=D({disabled:Boolean,error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,readonly:Boolean,rules:{type:Array,default:()=>[]},modelValue:null,validationValue:null});function At(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ae(),l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T();const o=G(e,"modelValue"),r=t.computed(()=>{var _;return(_=e.validationValue)!=null?_:o.value}),a=Bt(),i=t.ref([]),s=t.ref(!0),c=t.computed(()=>!!(O(o.value===""?null:o.value).length||O(r.value===""?null:r.value).length)),m=t.computed(()=>!!(e.disabled||a!=null&&a.isDisabled.value)),g=t.computed(()=>!!(e.readonly||a!=null&&a.isReadonly.value)),y=t.computed(()=>e.errorMessages.length?O(e.errorMessages):i.value),d=t.computed(()=>e.rules.length?e.error||y.value.length?!1:s.value?null:!0:!0),p=t.ref(!1),E=t.computed(()=>({[`${n}--error`]:d.value===!1,[`${n}--dirty`]:c.value,[`${n}--disabled`]:m.value,[`${n}--readonly`]:g.value})),w=t.computed(()=>{var _;return(_=e.name)!=null?_:t.unref(l)});t.onBeforeMount(()=>{a==null||a.register(w.value,u,C,f,d)}),t.onBeforeUnmount(()=>{a==null||a.unregister(w.value)}),t.watch(r,()=>{r.value!=null&&u()});function C(){f(),o.value=null}function f(){s.value=!0,i.value=[]}async function u(){const _=[];p.value=!0;for(const $ of e.rules){if(_.length>=(e.maxErrors||1))break;const V=await(typeof $=="function"?$:()=>$)(r.value);if(V!==!0){if(typeof V!="string"){console.warn(`${V} is not a valid value. Rule functions must return boolean true or a string.`);continue}_.push(V)}}return i.value=_,p.value=!1,s.value=!1,i.value}return{errorMessages:y,isDirty:c,isDisabled:m,isReadonly:g,isPristine:s,isValid:d,isValidating:p,reset:C,resetValidation:f,validate:u,validationClasses:E}}const pe=D(h(h({id:String,appendIcon:v,prependIcon:v,hideDetails:[Boolean,String],messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)}},se()),Dt())),ge=Fe()({name:"VInput",props:h({},pe()),emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:l,slots:o,emit:r}=n;const{densityClasses:a}=ce(e),i=T(),s=t.computed(()=>e.id||`input-${i}`),{errorMessages:c,isDirty:m,isDisabled:g,isReadonly:y,isPristine:d,isValid:p,isValidating:E,reset:w,resetValidation:C,validate:f,validationClasses:u}=At(e,"v-input",s),_=t.computed(()=>({id:s,isDirty:m,isDisabled:g,isReadonly:y,isPristine:d,isValid:p,isValidating:E,reset:w,resetValidation:C,validate:f}));return L(()=>{var $,A,V,x,J;const Ce=!!(o.prepend||e.prependIcon),we=!!(o.append||e.appendIcon),rt=!!(($=e.messages)!=null&&$.length||c.value.length),wn=!e.hideDetails||e.hideDetails==="auto"&&rt;return t.createVNode("div",{class:["v-input",`v-input--${e.direction}`,a.value,u.value]},[Ce&&t.createVNode("div",{class:"v-input__prepend"},[o==null||(A=o.prepend)==null?void 0:A.call(o,_.value),e.prependIcon&&t.createVNode(ue,{onClick:l["onClick:prepend"],icon:e.prependIcon},null)]),o.default&&t.createVNode("div",{class:"v-input__control"},[(V=o.default)==null?void 0:V.call(o,_.value)]),we&&t.createVNode("div",{class:"v-input__append"},[o==null||(x=o.append)==null?void 0:x.call(o,_.value),e.appendIcon&&t.createVNode(ue,{onClick:l["onClick:append"],icon:e.appendIcon},null)]),wn&&t.createVNode("div",{class:"v-input__details"},[t.createVNode(xt,{active:rt,messages:c.value.length>0?c.value:e.messages},{message:o.message}),(J=o.details)==null?void 0:J.call(o,_.value)])])}),{reset:w,resetValidation:C,validate:f}}});function Xe(e){return H(e,Object.keys(ge.props))}var Dn="",An="";const Qe=k({name:"VLabel",props:h({text:String},q()),setup(e,n){let{slots:l}=n;return()=>{var o;return t.createVNode("label",{class:"v-label"},[e.text,(o=l.default)==null?void 0:o.call(l)])}}});var Tn="";const Ze=Symbol.for("vuetify:selection-control-group"),Tt=k({name:"VSelectionControlGroup",props:{disabled:Boolean,id:String,inline:Boolean,name:String,falseIcon:v,trueIcon:v,multiple:{type:Boolean,default:null},readonly:Boolean,type:String,modelValue:null},emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:l}=n;const o=G(e,"modelValue"),r=T(),a=t.computed(()=>e.id||`v-selection-control-group-${r}`),i=t.computed(()=>e.name||a.value);return t.provide(Ze,{disabled:t.toRef(e,"disabled"),inline:t.toRef(e,"inline"),modelValue:o,multiple:t.computed(()=>!!e.multiple||e.multiple==null&&Array.isArray(o.value)),name:i,falseIcon:t.toRef(e,"falseIcon"),trueIcon:t.toRef(e,"trueIcon"),readonly:t.toRef(e,"readonly"),type:t.toRef(e,"type")}),L(()=>{var s;return t.createVNode("div",{class:"v-selection-control-group","aria-labelled-by":e.type==="radio"?a.value:void 0,role:e.type==="radio"?"radiogroup":void 0},[l==null||(s=l.default)==null?void 0:s.call(l)])}),{}}}),ye=D(h(h({color:String,disabled:Boolean,error:Boolean,id:String,inline:Boolean,label:String,falseIcon:v,trueIcon:v,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,trueValue:null,falseValue:null,modelValue:null,type:String,value:null,valueComparator:{type:Function,default:Ne}},q()),se()));function Lt(e){const n=t.inject(Ze,void 0),{densityClasses:l}=ce(e),o=G(e,"modelValue"),r=t.computed(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),a=t.computed(()=>e.falseValue!==void 0?e.falseValue:!1),i=t.computed(()=>(n==null?void 0:n.multiple.value)||!!e.multiple||e.multiple==null&&Array.isArray(o.value)),s=t.computed({get(){const y=n?n.modelValue.value:o.value;return i.value?y.some(d=>e.valueComparator(d,r.value)):e.valueComparator(y,r.value)},set(y){if(e.readonly)return;const d=y?r.value:a.value;let p=d;i.value&&(p=y?[...O(o.value),d]:O(o.value).filter(E=>!e.valueComparator(E,r.value))),n?n.modelValue.value=p:o.value=p}}),{textColorClasses:c,textColorStyles:m}=ie(t.computed(()=>s.value&&!e.error&&!e.disabled?e.color:void 0)),g=t.computed(()=>{var y,d;return s.value?(y=n==null?void 0:n.trueIcon.value)!=null?y:e.trueIcon:(d=n==null?void 0:n.falseIcon.value)!=null?d:e.falseIcon});return{group:n,densityClasses:l,trueValue:r,falseValue:a,model:s,textColorClasses:c,textColorStyles:m,icon:g}}const he=Fe()({name:"VSelectionControl",directives:{Ripple:It},inheritAttrs:!1,props:ye(),emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:l,slots:o}=n;const{densityClasses:r,group:a,icon:i,model:s,textColorClasses:c,textColorStyles:m,trueValue:g}=Lt(e),y=T(),d=t.computed(()=>e.id||`input-${y}`),p=t.ref(!1),E=t.ref(!1),w=t.ref();function C(u){p.value=!0,(!De||De&&u.target.matches(":focus-visible"))&&(E.value=!0)}function f(){p.value=!1,E.value=!1}return L(()=>{var u,_,$,A;const V=o.label?o.label({label:e.label,props:{for:d.value}}):e.label,x=(u=a==null?void 0:a.type.value)!=null?u:e.type,[J,Ce]=oe(l);return t.createVNode("div",t.mergeProps({class:["v-selection-control",{"v-selection-control--dirty":s.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":p.value,"v-selection-control--focus-visible":E.value,"v-selection-control--inline":(a==null?void 0:a.inline.value)||e.inline},r.value]},J),[t.createVNode("div",{class:["v-selection-control__wrapper",c.value],style:m.value},[(_=o.default)==null?void 0:_.call(o),t.withDirectives(t.createVNode("div",{class:["v-selection-control__input"]},[i.value&&t.createVNode(ue,{icon:i.value},null),t.withDirectives(t.createVNode("input",t.mergeProps({"onUpdate:modelValue":we=>s.value=we,ref:w,disabled:e.disabled,id:d.value,onBlur:f,onFocus:C,"aria-readonly":e.readonly,type:x,value:g.value,name:($=a==null?void 0:a.name.value)!=null?$:e.name,"aria-checked":x==="checkbox"?s.value:void 0},Ce),null),[[t.vModelDynamic,s.value]]),(A=o.input)==null?void 0:A.call(o,{model:s,textColorClasses:c,props:{onFocus:C,onBlur:f,id:d.value}})]),[[t.resolveDirective("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),V&&t.createVNode(Qe,{for:d.value},{default:()=>[V]})])}),{isFocused:p,input:w}}});function Pt(e){return H(e,Object.keys(he.props))}const Je=D(h({indeterminate:Boolean,indeterminateIcon:{type:v,default:"$checkboxIndeterminate"}},ye({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"}))),et=k({name:"VCheckboxBtn",props:Je(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,n){let{slots:l,emit:o}=n;const r=G(e,"indeterminate");function a(c){r.value&&(r.value=!1),o("update:modelValue",c)}const i=t.computed(()=>e.indeterminate?e.indeterminateIcon:e.falseIcon),s=t.computed(()=>e.indeterminate?e.indeterminateIcon:e.trueIcon);return L(()=>t.createVNode(he,t.mergeProps(e,{class:"v-checkbox-btn",type:"checkbox",inline:!0,"onUpdate:modelValue":a,falseIcon:i.value,trueIcon:s.value,"aria-checked":e.indeterminate?"mixed":void 0}),l)),{}}});function Rt(e){return H(e,Object.keys(et.props))}const tt=k({name:"VCheckbox",inheritAttrs:!1,props:h(h({},pe()),Je()),setup(e,n){let{attrs:l,slots:o}=n;const r=T(),a=t.computed(()=>e.id||`checkbox-${r}`);return L(()=>{const[i,s]=oe(l),[c,m]=Xe(e),[g,y]=Rt(e);return t.createVNode(ge,t.mergeProps({class:"v-checkbox"},i,c,{id:a.value}),F(h({},o),{default:d=>{let{id:p,isDisabled:E,isReadonly:w}=d;return t.createVNode(et,t.mergeProps(g,{id:p.value,disabled:E.value,readonly:w.value},s),o)}}))}),{}}}),Ot=k({name:"VRadio",props:{falseIcon:{type:v,default:"$radioOff"},trueIcon:{type:v,default:"$radioOn"}},setup(e,n){let{slots:l}=n;return L(()=>t.createVNode(he,{class:"v-radio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:"radio"},l)),{}}});var Ln="";const Ut=k({name:"VRadioGroup",inheritAttrs:!1,props:F(h(h({height:{type:[Number,String],default:"auto"}},pe()),ye()),{trueIcon:{type:v,default:"$radioOn"},falseIcon:{type:v,default:"$radioOff"},type:{type:String,default:"radio"}}),setup(e,n){let{attrs:l,slots:o}=n;const r=T(),a=t.computed(()=>e.id||`radio-group-${r}`);return L(()=>{const[i,s]=oe(l),[c,m]=Xe(e),[g,y]=Pt(e),d=o.label?o.label({label:e.label,props:{for:a.value}}):e.label;return t.createVNode(ge,t.mergeProps({class:"v-radio-group"},i,c,{id:a.value}),F(h({},o),{default:p=>{let{id:E,isDisabled:w,isReadonly:C}=p;return t.createVNode(t.Fragment,null,[d&&t.createVNode(Qe,{for:E.value},{default:()=>[d]}),t.createVNode(Tt,t.mergeProps(g,{id:E.value,trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:w.value,readonly:C.value},s),o)])}}))}),{}}});var Pn="";const P=k({name:"VTable",props:h(h(h({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String]},se()),q()),Re()),setup(e,n){let{slots:l}=n;const{themeClasses:o}=Te(e),{densityClasses:r}=ce(e);return()=>{var a,i,s;return t.createVNode(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!l.top,"v-table--has-bottom":!!l.bottom},o.value,r.value]},{default:()=>[(a=l.top)==null?void 0:a.call(l),l.default&&t.createVNode("div",{class:"v-table__wrapper",style:{height:R(e.height)}},[t.createVNode("table",null,[(i=l.default)==null?void 0:i.call(l)])]),(s=l.bottom)==null?void 0:s.call(l)]})}}}),Mt=t.defineComponent({name:"SubtitleSelector"}),jt=t.defineComponent(F(h({},Mt),{props:{subtitles:{type:Array,default:()=>[]}},setup(e){const n=e;return(l,o)=>(t.openBlock(),t.createBlock(t.unref(Ut),null,{default:t.withCtx(()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(n.subtitles,r=>(t.openBlock(),t.createBlock(t.unref(Ot),{key:r.index,color:"primary",label:`${r.language}${r.title?"("+r.title+")":""}`,value:r},null,8,["label","value"]))),128))]),_:1}))}})),zt=[t.createElementVNode("h1",null,"\u64AD\u653E\u52A0\u8F7D\u5931\u8D25\u4E86QAQ",-1)],Ht=t.defineComponent({name:"VideoEnhancePlayer"}),Wt=t.defineComponent(F(h({},Ht),{props:{url:{type:String,default:void 0},videoInfo:{type:Object,default:void 0},subtitleUrls:{type:Array,default:()=>[]}},setup(e){const n=e,l=t.ref();let o;const r=()=>{if(!n.url)return;const a={container:l.value,video:{url:n.url}},i=t.ref();if(n.videoInfo){const s=n.videoInfo.streams.filter(c=>c.codecType=="subtitle");s.length&&(window.SfcUtils.snackbar(`\u68C0\u6D4B\u5230${s.length}\u4E2A\u5B57\u5E55`),a.contextmenu=[{text:"\u9009\u62E9\u5B57\u5E55",click(){window.SfcUtils.openComponentDialog(jt,{props:t.reactive({subtitles:s,"onUpdate:modelValue"(c){i.value=c},modelValue:i}),title:"\u9009\u62E9\u5B57\u5E55",contentMaxHeight:"360px",async onConfirm(){const c=o.video.currentTime,m=n.subtitleUrls.find(g=>g.index==i.value.index);return m?(a.subtitle={url:m.url,fontSize:"21px"},a.contextmenu[0].text="\u5B57\u5E55\uFF1A"+i.value.language+(i.value.title?"("+i.value.title+")":""),console.log(a.contextmenu),o.destroy(),o=new window.DPlayer(a),o.play(),o.seek(c),!0):(window.SfcUtils.snackbar("\u627E\u4E0D\u5230\u6D41\u7F16\u53F7\u4E3A"+i.value+"\u7684\u5B57\u5E55\u6D41"),!0)}})}}]),n.videoInfo.chapters.length&&(a.highlight=n.videoInfo.chapters.map(c=>({text:c.title,time:Number(c.startTime)})))}o=new window.DPlayer(a),o.play()};return t.onMounted(async()=>{await t.nextTick(),r()}),t.watch(()=>n.url,r),(a,i)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"rootRef",ref:l},zt,512))}})),qt=t.defineComponent({name:"ConfigureInfo"}),Gt=t.defineComponent(F(h({},qt),{props:{modelValue:{type:String,default:""}},setup(e){const n=e,l=()=>{window.SfcUtils.alert(n.modelValue,"\u7F16\u8BD1\u53C2\u6570")};return(o,r)=>(t.openBlock(),t.createElementBlock("a",{class:"link",onClick:l},"\u67E5\u770B\u7F16\u8BD1\u53C2\u6570"))}})),Kt=t.createElementVNode("thead",null,[t.createElementVNode("tr",null,[t.createElementVNode("th",{style:{width:"90px"}}," \u7F16\u7801\u5668 "),t.createElementVNode("th",null,"\u63CF\u8FF0")])],-1),Yt={class:"break-text"},Xt=t.defineComponent({name:"EncoderInfoList"}),nt=t.defineComponent(F(h({},Xt),{props:{modelValue:{type:Array,default:()=>[]}},setup(e){return(n,l)=>{const o=t.resolveComponent("EmptyTip");return e.modelValue&&e.modelValue.length?(t.openBlock(),t.createBlock(P,{key:0},{default:t.withCtx(()=>[Kt,t.createElementVNode("tbody",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.modelValue,r=>(t.openBlock(),t.createElementBlock("tr",{key:r.name},[t.createElementVNode("td",Yt,t.toDisplayString(r.name),1),t.createElementVNode("td",null,t.toDisplayString(r.describe),1)]))),128))])]),_:1})):(t.openBlock(),t.createBlock(o,{key:1}))}}})),Qt=t.defineComponent({name:"EncoderInfo"}),Zt=t.defineComponent(F(h({},Qt),{props:{modelValue:{type:Array,default:()=>[]}},setup(e){const n=e,l=()=>{window.SfcUtils.openComponentDialog(nt,{props:{modelValue:n.modelValue},title:"\u7F16\u7801\u5668\u8BE6\u60C5"})};return(o,r)=>(t.openBlock(),t.createElementBlock("a",{class:"link",onClick:l},"\u67E5\u770B\u8BE6\u60C5("+t.toDisplayString(e.modelValue.length)+"\u4E2A)",1))}}));window.bootContext.addProcessor({taskName:"\u6CE8\u518C\u7EC4\u4EF6",execute(e,n){e.component("ConfigureInfo",Gt),e.component("EncoderInfo",Zt),e.component("EncoderInfoList",nt)}});function Ve(e){return e<10?"0"+e:""+e}var X;(e=>{function n(o){return o<1e3?o+"bps":o<1e6?(Number(o)/1e3).toFixed(2)+"Kbps":o<1e9?(Number(o)/1e6).toFixed(2)+"Mbps":o}e.formatBitRate=n;function l(o){const r=Number(o),a=Ve(Math.floor(r/3600)),i=Ve(Math.floor(r/60%60)),s=Ve(Math.floor(r%60));return`${a}:${i}:${s}`}e.formatDuration=l})(X||(X={}));const Jt=t.createElementVNode("div",{class:"text-title"}," \u57FA\u672C\u4FE1\u606F ",-1),en=t.createElementVNode("td",{style:{"min-width":"160px"}}," \u5C01\u88C5\u683C\u5F0F ",-1),tn=t.createElementVNode("td",null,"\u5C01\u88C5\u683C\u5F0F\u5168\u79F0",-1),nn=t.createElementVNode("td",null,"\u7801\u7387",-1),on=t.createElementVNode("td",null,"\u6301\u7EED\u65F6\u957F",-1),ln={key:0},rn=t.createElementVNode("td",null,"\u5176\u4ED6\u6807\u8BB0",-1),an=t.createElementVNode("thead",null,[t.createElementVNode("tr",null,[t.createElementVNode("th",null,"\u540D\u79F0"),t.createElementVNode("th",null,"\u503C")])],-1),sn=t.createElementVNode("div",{class:"text-title"}," \u89C6\u9891\u6D41 ",-1),cn=t.createElementVNode("thead",null,[t.createElementVNode("tr",null,[t.createElementVNode("th",null,"\u7F16\u7801"),t.createElementVNode("th",null,"\u5206\u8FA8\u7387"),t.createElementVNode("th",null,"\u5E27\u7387"),t.createElementVNode("th",null,"\u8BED\u8A00")])],-1),un=t.createElementVNode("div",{class:"text-title"}," \u97F3\u9891\u6D41 ",-1),dn=t.createElementVNode("thead",null,[t.createElementVNode("tr",null,[t.createElementVNode("th",null,"\u7F16\u7801"),t.createElementVNode("th",null,"\u91C7\u6837"),t.createElementVNode("th",null,"\u7801\u7387"),t.createElementVNode("th",null,"\u58F0\u9053"),t.createElementVNode("th",null,"\u8BED\u8A00")])],-1),mn=t.defineComponent({name:"VideoInfo"}),fn=t.defineComponent(F(h({},mn),{props:{videoInfo:{type:Object,default:()=>({})},file:{type:Object,default:void 0}},setup(e){const n=e,l=t.ref(!1),o=t.computed(()=>n.videoInfo.streams.filter(a=>a.codecType=="video")),r=t.computed(()=>n.videoInfo.streams.filter(a=>a.codecType=="audio"));return(a,i)=>(t.openBlock(),t.createElementBlock("div",null,[Jt,t.createVNode(P,null,{default:t.withCtx(()=>[t.createElementVNode("tbody",null,[t.createElementVNode("tr",null,[en,t.createElementVNode("td",null,t.toDisplayString(e.videoInfo.format.formatName),1)]),t.createElementVNode("tr",null,[tn,t.createElementVNode("td",null,t.toDisplayString(e.videoInfo.format.formatLongName),1)]),t.createElementVNode("tr",null,[nn,t.createElementVNode("td",null,t.toDisplayString(t.unref(X).formatBitRate(e.videoInfo.format.bitRate))+" ("+t.toDisplayString(e.videoInfo.format.bitRate)+")",1)]),t.createElementVNode("tr",null,[on,t.createElementVNode("td",null,t.toDisplayString(t.unref(X).formatDuration(e.videoInfo.format.duration)),1)]),e.videoInfo.format.tags?(t.openBlock(),t.createElementBlock("tr",ln,[rn,t.createElementVNode("td",null,[l.value?(t.openBlock(),t.createBlock(P,{key:0},{default:t.withCtx(()=>[an,t.createElementVNode("tbody",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(Object.keys(e.videoInfo.format.tags),s=>(t.openBlock(),t.createElementBlock("tr",{key:s},[t.createElementVNode("td",null,t.toDisplayString(s),1),t.createElementVNode("td",null,t.toDisplayString(e.videoInfo.format.tags[s]),1)]))),128))])]),_:1})):t.createCommentVNode("",!0),t.createElementVNode("a",{class:"link",onClick:i[0]||(i[0]=s=>l.value=!l.value)},t.toDisplayString(l.value?"\u6536\u8D77":"\u5C55\u5F00"),1)])])):t.createCommentVNode("",!0)])]),_:1}),sn,t.createVNode(P,null,{default:t.withCtx(()=>[cn,t.createElementVNode("tbody",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(o),s=>(t.openBlock(),t.createElementBlock("tr",{key:s.index},[t.createElementVNode("td",null,t.toDisplayString(s.codecName),1),t.createElementVNode("td",null,t.toDisplayString(s.width)+"x"+t.toDisplayString(s.height),1),t.createElementVNode("td",null,t.toDisplayString((s.avgFrameRate||0).toFixed(3)),1),t.createElementVNode("td",null,t.toDisplayString(s.language||"-"),1)]))),128))])]),_:1}),un,t.createVNode(P,null,{default:t.withCtx(()=>[dn,t.createElementVNode("tbody",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(r),s=>(t.openBlock(),t.createElementBlock("tr",{key:s.index},[t.createElementVNode("td",null,t.toDisplayString(s.codecName),1),t.createElementVNode("td",null,t.toDisplayString(s.sampleRate/1e3)+"kHz",1),t.createElementVNode("td",null,t.toDisplayString(s.bitRate/1e3)+"K",1),t.createElementVNode("td",null,t.toDisplayString(s.channels),1),t.createElementVNode("td",null,t.toDisplayString(s.language||"-"),1)]))),128))])]),_:1})]))}}));var Q;(e=>{function n(){return{url:"/video/getFFMpegInfo"}}e.getFFMpegInfo=n;function l(o){return{url:"/video/encodeConvert",data:o,method:"post",headers:{"Content-Type":"application/json"}}}e.encodeConvert=l})(Q||(Q={}));const pn=t.createElementVNode("div",{class:"text-h6"}," \u89C6\u9891 ",-1),gn=t.createElementVNode("thead",null,[t.createElementVNode("tr",null,[t.createElementVNode("th",{style:{width:"64px"}}," \u9009\u62E9 "),t.createElementVNode("th",null,"\u539F\u7F16\u7801"),t.createElementVNode("th",null,"\u8BED\u8A00"),t.createElementVNode("th",null,"\u7F16\u7801\u5668")])],-1),yn=t.createElementVNode("div",{class:"text-h6"}," \u97F3\u9891 ",-1),hn=t.createElementVNode("thead",null,[t.createElementVNode("tr",null,[t.createElementVNode("th",{style:{width:"64px"}}," \u9009\u62E9 "),t.createElementVNode("th",null,"\u539F\u7F16\u7801"),t.createElementVNode("th",null,"\u8BED\u8A00"),t.createElementVNode("th",null,"\u7F16\u7801\u5668")])],-1),Vn=t.defineComponent({name:"VideoConvertForm"}),_n=t.defineComponent(F(h({},Vn),{props:{videoInfo:{type:Object,default:()=>({})}},emits:["submit"],setup(e,{expose:n,emit:l}){const o=e,r=t.ref(),a=t.ref(),i={title:"\u590D\u5236",value:"copy"},s=window.FormUtils.defineForm({actions:{async submit(){if(!o.videoInfo.streams.find(u=>(u.codecType=="audio"||u.codecType=="video")&&c.mapStreams[u.index]))throw new Error("\u81F3\u5C11\u9009\u62E9\u4E00\u4E2A\u97F3\u9891\u6216\u89C6\u9891\u6D41");o.videoInfo.streams.find(u=>u.codecType=="video"&&c.mapStreams[u.index])||await window.SfcUtils.confirm("\u6CA1\u6709\u9009\u62E9\u89C6\u9891\u6D41\uFF0C\u786E\u5B9A\uFF1F","\u63D0\u793A",{cancelToReject:!0}),o.videoInfo.streams.find(u=>u.codecType=="audio"&&c.mapStreams[u.index])||await window.SfcUtils.confirm("\u6CA1\u6709\u9009\u62E9\u97F3\u9891\u6D41\uFF0C\u786E\u5B9A\uFF1F","\u63D0\u793A",{cancelToReject:!0}),p()},async loadFFMpegInfo(){d.beginLoading();try{const f=(await window.SfcUtils.request(Q.getFFMpegInfo())).data.data;a.value=f,C.video=[i].concat(f.videoEncoders.filter(u=>u.name.includes("264")||u.name.includes("265")||u.name.includes("hevc")).map(u=>({title:u.name,value:u.name}))),C.audio=[i].concat(f.audioEncoders.filter(u=>u.name.includes("aac")).map(u=>({title:u.name,value:u.name}))),C.subtitle=[i].concat(f.subtitleEncoders.map(u=>({title:u.name,value:u.name})))}catch(f){window.SfcUtils.snackbar(f)}finally{d.closeLoading()}}},formData:{convertRules:{},mapStreams:{},enabledConvertRules:[]},formRef:r,validators:{},throwError:!0}),{formData:c,actions:m,validators:g,loadingRef:y,loadingManager:d}=s,p=()=>{c.enabledConvertRules=o.videoInfo.streams.filter(f=>c.mapStreams[f.index]).map(f=>c.convertRules[f.index]),c.enabledConvertRules.forEach(f=>{f.encoder!="copy"?f.method="convert":f.method="copy"})};o.videoInfo.streams.forEach(f=>{c.convertRules[f.index]={index:f.index,encoder:"copy",method:"copy",type:f.codecType},c.mapStreams[f.index]=!0}),p(),t.onMounted(async()=>{await m.loadFFMpegInfo()});const E=t.computed(()=>o.videoInfo.streams.filter(f=>f.codecType=="video")),w=t.computed(()=>o.videoInfo.streams.filter(f=>f.codecType=="audio"));t.computed(()=>o.videoInfo.streams.filter(f=>f.codecType=="subtitle"));const C=t.reactive({video:[],audio:[],subtitle:[]});return n(s),(f,u)=>{const _=t.resolveComponent("LoadingMask"),$=t.resolveComponent("FormSelect"),A=t.resolveComponent("base-form");return t.openBlock(),t.createBlock(A,{ref_key:"formRef",ref:r,"model-value":t.unref(c),"submit-action":t.unref(m).submit},{default:t.withCtx(()=>[t.createVNode(_,{loading:t.unref(y)},null,8,["loading"]),pn,t.createVNode(P,null,{default:t.withCtx(()=>[gn,t.createElementVNode("tbody",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(E),V=>(t.openBlock(),t.createElementBlock("tr",{key:V.index},[t.createElementVNode("td",null,[t.createVNode(tt,{modelValue:t.unref(c).mapStreams[V.index],"onUpdate:modelValue":x=>t.unref(c).mapStreams[V.index]=x,color:"primary",style:{"margin-top":"6px"},density:"comfortable","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),t.createElementVNode("td",null,t.toDisplayString(V.codecName),1),t.createElementVNode("td",null,t.toDisplayString(V.language||"-"),1),t.createElementVNode("td",null,[t.unref(C).video.length?(t.openBlock(),t.createBlock($,{key:0,modelValue:t.unref(c).convertRules[V.index].encoder,"onUpdate:modelValue":x=>t.unref(c).convertRules[V.index].encoder=x,disabled:!t.unref(c).mapStreams[V.index],style:{width:"160px"},items:t.unref(C).video,onChange:p},null,8,["modelValue","onUpdate:modelValue","disabled","items"])):t.createCommentVNode("",!0)])]))),128))])]),_:1}),yn,t.createVNode(P,null,{default:t.withCtx(()=>[hn,t.createElementVNode("tbody",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(w),V=>(t.openBlock(),t.createElementBlock("tr",{key:V.index},[t.createElementVNode("td",null,[t.createVNode(tt,{modelValue:t.unref(c).mapStreams[V.index],"onUpdate:modelValue":x=>t.unref(c).mapStreams[V.index]=x,color:"primary",style:{"margin-top":"6px"},density:"comfortable","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),t.createElementVNode("td",null,t.toDisplayString(V.codecName),1),t.createElementVNode("td",null,t.toDisplayString(V.language||"-"),1),t.createElementVNode("td",null,[t.unref(C).audio.length?(t.openBlock(),t.createBlock($,{key:0,modelValue:t.unref(c).convertRules[V.index].encoder,"onUpdate:modelValue":x=>t.unref(c).convertRules[V.index].encoder=x,disabled:!t.unref(c).mapStreams[V.index],style:{width:"160px"},items:t.unref(C).audio,onChange:p},null,8,["modelValue","onUpdate:modelValue","disabled","items"])):t.createCommentVNode("",!0)])]))),128))])]),_:1})]),_:1},8,["model-value","submit-action"])}}})),Z=window.context,U=window.SfcUtils;function bn(e,n,l){if(!n.name.endsWith(".mkv"))return null;const o={name:n.name,path:e.path,protocol:"subtitle",targetId:e.uid,stream:l};if(e.protocol=="main")return window.SfcUtils.getApiUrl(window.API.resource.getCommonResource(o));const r=e.getProtocolParams();return o.sourceProtocol=e.protocol,o.sourceId=r.id,Object.keys(r).filter(a=>a!="id").forEach(a=>{o[a]=r[a]}),window.SfcUtils.getApiUrl(window.API.resource.getCommonResource(o))}async function _e(e,n){let l=n.path;l||(l=(await U.request(window.API.resource.parseNodeId(n.uid,n.node))).data.data);const o={name:n.name,path:l,targetId:e.uid,sourceProtocol:e.protocol||"main",protocol:e.protocol||"main"},r=e.getProtocolParams();return o.sourceId=r.id,Object.keys(r).filter(a=>a!="id").forEach(a=>{o[a]=r[a]}),o}async function be(e,n){const l=await _e(e,n);return l.protocol="videoInfo",(await await U.request(window.API.resource.getCommonResource(l))).data}const En=new Set(["mp4","mkv","avi","rm","rmvb","m4v","flv","mpg","mpeg","mpe"]);function Ee(e){const n=e.split(".").pop();return!!n&&En.has(n)}const ot={id:"player",icon:"mdi-play-circle",matcher(e,n){return n.mount?!1:Ee(n.name)},title:"\u64AD\u653E\u89C6\u9891",async action(e,n){try{U.beginLoading(),await window.SfcUtils.sleep(100);const l=await be(e,n);U.openComponentDialog(Wt,{props:{url:e.getFileUrl(n),videoInfo:l,subtitleUrls:l.streams.filter(o=>o.codecType=="subtitle").map(o=>({index:o.index,url:bn(e,n,o.index)}))},dense:!0,showCancel:!1,title:"\u89C6\u9891\u9884\u89C8\uFF1A"+n.name,extraDialogOptions:{maxWidth:"80%"}})}catch(l){U.snackbar(l)}finally{U.closeLoading()}},sort:0},Cn={id:"video",name:"\u89C6\u9891",items:[{title:"\u89C6\u9891\u8F6C\u7801",id:"video-convert",icon:"mdi-cached",renderOn(e){return e&&e.selectFileList.length==1&&!e.selectFileList[0].mount&&Ee(e.selectFileList[0].name)},async action(e){const n=await be(e,e.selectFileList[0]),l=window.SfcUtils.openComponentDialog(_n,{props:{videoInfo:n},title:`\u89C6\u9891\u8F6C\u7801\uFF1A${e.selectFileList[0].name}`,async onConfirm(){if((await l.getInstAsForm().submit()).success){const r=l.getInstAsForm().getFormData().enabledConvertRules,a=await _e(e,e.selectFileList[0]),i=await _e(e,e.selectFileList[0]);return i.name="convert_"+i.name,await window.SfcUtils.request(Q.encodeConvert({rules:r,source:a,target:i})),window.SfcUtils.snackbar("\u4EFB\u52A1\u521B\u5EFA\u6210\u529F"),!0}else return!1}})}},{title:"\u89C6\u9891\u4FE1\u606F",id:"video-info",renderOn(e){return e&&e.selectFileList.length==1&&!e.selectFileList[0].mount&&Ee(e.selectFileList[0].name)},icon:"mdi-information-variant",async action(e){const n=await be(e,e.selectFileList[0]);window.SfcUtils.openComponentDialog(fn,{props:{videoInfo:n},title:`\u5A92\u4F53\u4FE1\u606F\uFF1A${e.selectFileList[0].name}`})}}]},lt=Z.fileOpenHandler.value.findIndex(e=>e.id=="play-video");lt!=-1?Z.fileOpenHandler.value[lt]=ot:Z.fileOpenHandler.value.push(ot),Z.menu.value.fileListMenu.push(Cn)});
