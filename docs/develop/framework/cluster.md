# 集群兼容

## 简述

咸鱼云网盘各项外围功能应当考虑集群兼容性，除了需要连接相同的数据库和redis集群外，还应当注意以下要点

- 存储方面：可采用网络存储文件系统实现集群各节点的文件存储共享，确保各个节点均能访问到相同的文件信息，系统目前的网络存储支持有：
     * Minio
     * Hadoop
     * FTP
     * SFTP


- 异步任务：系统内实现了一套集群模式下节点间自治负载均衡、队列控制、RPC广播、故障转移的高可用（应该。。。吧）的简易异步任务机制，使用方便，接口简单。   
  需要异步执行的任务应当统一基于该机制框架下开发，具体参考异步任务章节。
- 定时任务：在SpringBoot原有的定时任务机制下，通过AOP进行了增强，实现了单节点/集群环境下基于数据库乐观锁的定时任务调度互斥控制，具体参考定时任务章节。