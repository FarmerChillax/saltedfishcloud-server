# video-enhance

## 简介

video-enhance（简称VE）插件基于ffmpeg，为提供了视频字幕选择、字幕提取、音视频转码功能

## 配置

### FFmpeg安装

FFmpeg下载与安装见此处：[https://ffmpeg.org/download.html](https://ffmpeg.org/download.html)

当然，你也可用使用系统的包管理器进行安装。安装完成后路径配置为`/usr/bin`即可（一般情况）

> 注意: 在集群模式下需要确保所有节点都安装了ffmpeg，且运行路径保持一致


## 系统配置

需要配置ffmpeg可执行文件所在的目录，安装插件后在管理员后台可配置。

配置路径：系统管理 -> 视频增强 -> 点击配置页面"编辑"按钮 -> 配置ffmpeg目录

![ve-config.png](../img/ve-config.png)

若不配置该项，该插件功能将无法正常使用，因此服务器上需要安装ffmpeg。

## 检查配置

配置完成保存后，点击页面的“检查”按钮即可检查配置是否有效

## 功能

- 媒体文件元数据详情查看
- 异步任务-音频/视频编码转换（半成品，仅支持音频: aac/流复制，视频: h264/h265。不支持封装转换如mkv转mp4）
- 内嵌字幕提取（仅支持WEBVTT/ASS封装），播放视频时若检测到有字幕会有气泡提示，右键-选择字幕即可选择内嵌的字幕进行播放。

该插件的开发目的只是用来学习java与ffmpeg交互来处理视频，属于个人学习与实验性质。

后续有需求了再完善该功能，当然你也可用贡献代码来完善他。